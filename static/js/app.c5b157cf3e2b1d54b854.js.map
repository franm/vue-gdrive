{"version":3,"sources":["webpack:///static/js/app.c5b157cf3e2b1d54b854.js","webpack:///./src/main.js","webpack:///./src/services/index.js","webpack:///./src/gapi/gapi-integration.js","webpack:///./src/store/mutation-types.js","webpack:///./src/store/index.js","webpack:///./src/store/modules/file.js","webpack:///./src/stores/user.js","webpack:///./src/gapi/multipart.js","webpack:///./src/services/file.js","webpack:///./src/store/actions.js","webpack:///./src/store/modules/collaborators.js","webpack:///App.vue","webpack:///CollaboratorCursor.vue","webpack:///CreateNewFileDialog.vue","webpack:///TextView.vue","webpack:///Collaborator.vue","webpack:///PageHeader.vue","webpack:///ProfileMenu.vue","webpack:///SideMenu.vue","webpack:///./~/moment/locale ^\\.\\/.*$","webpack:///./src/assets/google-drive.svg","webpack:///./src/App.vue","webpack:///./src/components/CollaboratorCursor.vue","webpack:///./src/components/CreateNewFileDialog.vue","webpack:///./src/components/TextView.vue","webpack:///./src/components/menu/Collaborator.vue","webpack:///./src/components/menu/PageHeader.vue","webpack:///./src/components/menu/ProfileMenu.vue","webpack:///./src/components/menu/SideMenu.vue","webpack:///./src/components/menu/PageHeader.vue?31d9","webpack:///./src/components/CollaboratorCursor.vue?abd4","webpack:///./src/components/menu/ProfileMenu.vue?b52c","webpack:///./src/components/menu/SideMenu.vue?d9f2","webpack:///./src/components/menu/Collaborator.vue?51e2","webpack:///./src/App.vue?4f8b","webpack:///./src/components/CreateNewFileDialog.vue?11a9","webpack:///./src/components/TextView.vue?968c"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_App","_App2","_vueMdl","_vueMdl2","_store","_store2","polyfill","use","store","el","template","components","App","11","Object","defineProperty","value","_file","enumerable","get","file","30","_stringify","_stringify2","_promise","_promise2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_multipart","_multipart2","GApiIntegration","this","CLIENT_ID","SCOPES","DEFAULT_FIELDS","key","resolve","reject","waitForApi","console","info","gapi","client","all","load","then","setTimeout","_this","immediate","arguments","length","undefined","user","auth","authorize","buildAuthRequest","authResult","error","immediateMode","request","client_id","scope","join","login_hint","authuser","plus","people","userId","filename","path","method","metadata","id","encodeURIComponent","mimeType","name","multipart","append","content","finish","params","uploadType","fields","headers","Content-Type","type","body","fileId","_this2","metadataRequest","drive","files","contentRequest","alt","responses","result","contentEventHandler","filenameEventHandler","collaboratorEventHandler","cursorsMapEventHandler","_this3","that","realtime","doc","log","contentText","getModel","getRoot","addEventListener","EventType","TEXT_INSERTED","TEXT_DELETED","filenameText","COLLABORATOR_JOINED","COLLABORATOR_LEFT","target","cursorsMap","VALUE_CHANGED","model","contentString","createString","set","filenameString","createMap","window","ErrorType","TOKEN_REFRESH_REQUIRED","loadRtDoc","catch","CLIENT_ERROR","message","NOT_FOUND","FORBIDDEN","location","href","view","google","picker","DocsView","ViewId","DOCS","setMimeTypes","setSelectFolderEnabled","setIncludeFolders","PickerBuilder","setAppId","setOAuthToken","getToken","access_token","addView","setCallback","data","action","docs","build","setVisible","share","ShareClient","setItemIds","showSettingsDialog","31","NEW_FILE","FILE_SAVED","FILE_SAVING","FILE_NOT_SAVED","EDIT_CONTENT","INSERT_CONTENT","DELETE_CONTENT","RENAME_FILE","LOAD_FILE","SET_COLLABORATORS","SET_CURSORS","48","_interopRequireWildcard","newObj","prototype","hasOwnProperty","call","_vuex","_vuex2","_file2","_collaborators","_collaborators2","_actions","actions","debug","Store","modules","collaborators","strict","49","STATUS_LIST","_mutations","_defineProperty2","_defineProperty3","_lodash","_lodash2","_mutationTypes","INITIAL","SAVING","SAVED","NOT_SAVED","DIRTY","state","status","mutations","assign","FILE_DIRTY","_ref","index","text","slice","_ref2","50","image","email","setUser","200","_class","boundary","Math","random","toString","parts","Error","push","201","_gapiIntegration","_gapiIntegration2","_get2","_get3","_find2","_find3","createNewFile","dispatch","bind","openFromGDrive","showPicker","loadFromGDrive","loadFile","getText","evt","getCollaborators","forEach","collaborator","sessionId","displayName","color","isMe","moveCursor","pos","getMyRegisteredReference","getCursors","garbageCollectCursors","keys","cursors","i","getCollaborator","removeAllEventListeners","REFERENCE_SHIFTED","onReferenceShifted","delete","getMyCollaborator","myRegisteredReference","myNewRegisteredReference","registerReference","showSharing","202","updateWindowUrl","fileMetadata","queryVars","_querystringify2","parse","search","history","pushState","pathname","stringify","setCursors","setCollaborators","updateFilename","renameFile","updateContent","editContent","saveFile","types","_querystringify","commit","reason","debounceSave","debounce","_ref3","setText","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","203","_extends2","_extends3","users","reduce","cursor","204","_PageHeader","_PageHeader2","_SideMenu","_SideMenu2","_CreateNewFileDialog","_CreateNewFileDialog2","_TextView","_TextView2","_ProfileMenu","_ProfileMenu2","_user","_user2","_services","PageHeader","TextView","ProfileMenu","SideMenu","create-new-file-dialog","errorMessage","mounted","loadDriveApis","loadUserData","loadThisFile","$refs","login","open","methods","handleAuthClick","close","getUserProfile","resp","url","emails","openCreateNewFile","create_new_file","openDialog","closeErrorMessageCallback","205","props","206","_googleDrive","_googleDrive2","gdriveSvg","createNew","$el","querySelector","$event","207","_textareaCaret","_textareaCaret2","_CollaboratorCursor","_CollaboratorCursor2","CollaboratorCursor","computed","mapState","fileContent","filter","map","position","top","left","collaboratorName","watch","_fileContent","$nextTick","me","find","setSelectionRange","inputContent","event","carretMoved","selectionStart","mapActions","208","209","_autosizeInput","_autosizeInput2","_moment","_moment2","_Collaborator","_Collaborator2","Collaborator","showSavedMoment","now","Date","fileName","dispatchEvent","Event","$store","fileStatus","INTIAL","modifiedTime","from","val","oldVal","rename","e","openShare","setInterval","210","211","_indexOf","_indexOf2","newFile","closeNav","openFile","d","document","classList","MaterialLayout","toggleDrawer","253","254","255","256","257","258","259","260","261","262","345","webpackContext","req","webpackContextResolve","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de.js","./dv","./dv.js","./el","./el.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./gd","./gd.js","./gl","./gl.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./ko","./ko.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./uk","./uk.js","./uz","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","348","349","__vue_exports__","__vue_options__","__vue_template__","options","render","staticRenderFns","350","_scopeId","351","352","353","354","355","356","357","_vm","_h","staticClass","ref","attrs","contenteditable","domProps","on","blur","_s","savedMoment","_l","nativeOn","click","358","style","backgroundColor","359","src","_m","role","for","360","361","borderColor","photoUrl","362","full-width","title","slot","primary","363","floating-label","364","input","keyup","366"],"mappings":"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AAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,YAAA,IACAC,eAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IAQA1N,GAAA9K,KAAA,WACA,MAAAlP,QAAAkP,KAAA6G,IAEAiE,EAAAxY,QAAA0Y,EACAzb,EAAAC,QAAAsb,EACAA,EAAApW,GAAA,KpB47CM+jB,IACA,SAASlpB,EAAQC,GqBlqDvBD,EAAAC,QAAA,0lBrBwqDMkpB,IACA,SAASnpB,EAAQC,EAASC,GsBzqDhC,GAAAkpB,GAAAC,CAIAnpB,GAAA,KAGAkpB,EAAAlpB,EAAA,IAGA,IAAAopB,GAAAppB,EAAA,IACAmpB,GAAAD,QAEA,gBAAAA,GAAA9oB,SACA,kBAAA8oB,GAAA9oB,UAEA+oB,EAAAD,IAAA9oB,SAEA,kBAAA+oB,KACAA,IAAAE,SAGAF,EAAAG,OAAAF,EAAAE,OACAH,EAAAI,gBAAAH,EAAAG,gBAEAzpB,EAAAC,QAAAmpB,GtBgrDMM,IACA,SAAS1pB,EAAQC,EAASC,GuB1sDhC,GAAAkpB,GAAAC,CAIAnpB,GAAA,KAGAkpB,EAAAlpB,EAAA,IAGA,IAAAopB,GAAAppB,EAAA,IACAmpB,GAAAD,QAEA,gBAAAA,GAAA9oB,SACA,kBAAA8oB,GAAA9oB,UAEA+oB,EAAAD,IAAA9oB,SAEA,kBAAA+oB,KACAA,IAAAE,SAGAF,EAAAG,OAAAF,EAAAE,OACAH,EAAAI,gBAAAH,EAAAG,gBACAJ,EAAAM,SAAA,kBAEA3pB,EAAAC,QAAAmpB,GvBitDMQ,IACA,SAAS5pB,EAAQC,EAASC,GwB5uDhC,GAAAkpB,GAAAC,CAIAnpB,GAAA,KAGAkpB,EAAAlpB,EAAA,IAGA,IAAAopB,GAAAppB,EAAA,IACAmpB,GAAAD,QAEA,gBAAAA,GAAA9oB,SACA,kBAAA8oB,GAAA9oB,UAEA+oB,EAAAD,IAAA9oB,SAEA,kBAAA+oB,KACAA,IAAAE,SAGAF,EAAAG,OAAAF,EAAAE,OACAH,EAAAI,gBAAAH,EAAAG,gBACAJ,EAAAM,SAAA,kBAEA3pB,EAAAC,QAAAmpB,GxBmvDMS,IACA,SAAS7pB,EAAQC,EAASC,GyB9wDhC,GAAAkpB,GAAAC,CAIAnpB,GAAA,KAGAkpB,EAAAlpB,EAAA,IAGA,IAAAopB,GAAAppB,EAAA,IACAmpB,GAAAD,QAEA,gBAAAA,GAAA9oB,SACA,kBAAA8oB,GAAA9oB,UAEA+oB,EAAAD,IAAA9oB,SAEA,kBAAA+oB,KACAA,IAAAE,SAGAF,EAAAG,OAAAF,EAAAE,OACAH,EAAAI,gBAAAH,EAAAG,gBACAJ,EAAAM,SAAA,kBAEA3pB,EAAAC,QAAAmpB,GzBqxDMU,IACA,SAAS9pB,EAAQC,EAASC,G0BhzDhC,GAAAkpB,GAAAC,CAIAnpB,GAAA,KAGAkpB,EAAAlpB,EAAA,IAGA,IAAAopB,GAAAppB,EAAA,IACAmpB,GAAAD,QAEA,gBAAAA,GAAA9oB,SACA,kBAAA8oB,GAAA9oB,UAEA+oB,EAAAD,IAAA9oB,SAEA,kBAAA+oB,KACAA,IAAAE,SAGAF,EAAAG,OAAAF,EAAAE,OACAH,EAAAI,gBAAAH,EAAAG,gBACAJ,EAAAM,SAAA,kBAEA3pB,EAAAC,QAAAmpB,G1BuzDMW,IACA,SAAS/pB,EAAQC,EAASC,G2Bl1DhC,GAAAkpB,GAAAC,CAIAnpB,GAAA,KAGAkpB,EAAAlpB,EAAA,IAGA,IAAAopB,GAAAppB,EAAA,IACAmpB,GAAAD,QAEA,gBAAAA,GAAA9oB,SACA,kBAAA8oB,GAAA9oB,UAEA+oB,EAAAD,IAAA9oB,SAEA,kBAAA+oB,KACAA,IAAAE,SAGAF,EAAAG,OAAAF,EAAAE,OACAH,EAAAI,gBAAAH,EAAAG,gBAEAzpB,EAAAC,QAAAmpB,G3By1DMY,IACA,SAAShqB,EAAQC,EAASC,G4Bn3DhC,GAAAkpB,GAAAC,CAIAnpB,GAAA,KAGAkpB,EAAAlpB,EAAA,IAGA,IAAAopB,GAAAppB,EAAA,IACAmpB,GAAAD,QAEA,gBAAAA,GAAA9oB,SACA,kBAAA8oB,GAAA9oB,UAEA+oB,EAAAD,IAAA9oB,SAEA,kBAAA+oB,KACAA,IAAAE,SAGAF,EAAAG,OAAAF,EAAAE,OACAH,EAAAI,gBAAAH,EAAAG,gBACAJ,EAAAM,SAAA,kBAEA3pB,EAAAC,QAAAmpB,G5B03DMa,IACA,SAASjqB,EAAQC,EAASC,G6Br5DhC,GAAAkpB,GAAAC,CAIAnpB,GAAA,KAGAkpB,EAAAlpB,EAAA,IAGA,IAAAopB,GAAAppB,EAAA,IACAmpB,GAAAD,QAEA,gBAAAA,GAAA9oB,SACA,kBAAA8oB,GAAA9oB,UAEA+oB,EAAAD,IAAA9oB,SAEA,kBAAA+oB,KACAA,IAAAE,SAGAF,EAAAG,OAAAF,EAAAE,OACAH,EAAAI,gBAAAH,EAAAG,gBACAJ,EAAAM,SAAA,kBAEA3pB,EAAAC,QAAAmpB,G7B45DMc,IACA,SAASlqB,EAAQC,G8Bv7DvBD,EAAAC,SAAgBupB,OAAA,WAAmB,GAAAW,GAAAznB,IACnC,OAAAynB,GAAAC,GAAA,UACAC,YAAA,oEACGF,EAAAC,GAAA,OACHC,YAAA,2BACGF,EAAAC,GAAA,KACHC,YAAA,mBACG,0BAAAF,EAAAC,GAAA,SACHE,IAAA,WACAD,YAAA,WACAE,OACAC,gBAAA,QAEAC,UACAhpB,MAAA0oB,EAAAjR,UAEAwR,IACAC,KAAAR,EAAAvQ,UAEG,IAAAuQ,EAAAC,GAAA,QACHC,YAAA,eACGF,EAAAS,GAAAT,EAAA7Q,YAAA,IAAA6Q,EAAAS,GAAAT,EAAAU,eAAA,QAAAV,EAAAC,GAAA,OACHC,YAAA,sBACG,IAAAF,EAAAW,GAAAX,EAAA,uBAAApa,GACH,MAAAoa,GAAAC,GAAA,gBACAG,OACAxa,oBAGG,QAAAoa,EAAAC,GAAA,OACHC,YAAA,iDACGF,EAAAC,GAAA,cACHW,UACAC,MAAA,SAAArU,GACAwT,EAAArQ,gBAGGqQ,EAAAC,GAAA,KACHC,YAAA,mBACG,4BACFZ,qB9B67DKwB,IACA,SAASjrB,EAAQC,G+Bt+DvBD,EAAAC,SAAgBupB,OAAA,WAAmB,GAAAW,GAAAznB,IACnC,OAAAynB,GAAAC,GAAA,OACAc,OACA1T,IAAA2S,EAAAxW,OAAA4D,SAAAC,IAAA,KACAC,KAAA0S,EAAAxW,OAAA4D,SAAAE,KAAA,QAEG0S,EAAAC,GAAA,eACHG,OACAziB,OAAA,SAAAqiB,EAAAxW,OAAA3D,aAEG,SAAAma,EAAAS,GAAAT,EAAAxW,OAAA+D,kBAAA,aAAAyS,EAAAC,GAAA,OACHC,YAAA,SACAa,OACAC,gBAAAhB,EAAAxW,OAAAzD,OAEAqa,OACAplB,GAAA,SAAAglB,EAAAxW,OAAA3D,gBAGCyZ,qB/B4+DK2B,IACA,SAASprB,EAAQC,GgChgEvBD,EAAAC,SAAgBupB,OAAA,WAAmB,GAAAW,GAAAznB,IACnC,OAAAynB,GAAAC,GAAA,OACAC,YAAA,yBACGF,EAAAC,GAAA,OACHC,YAAA,SACAE,OACAc,IAAAlB,EAAApmB,KAAAkK,SAEG,IAAAkc,EAAAC,GAAA,QAAAD,EAAAS,GAAAT,EAAApmB,KAAAmK,SAAA,IAAAic,EAAAmB,GAAA,OAAAnB,EAAAmB,GAAA,MACF7B,iBAAA,WAA+B,GAAAU,GAAAznB,IAChC,OAAAynB,GAAAC,GAAA,UACAC,YAAA,iEACAE,OACAplB,GAAA,YAEGglB,EAAAC,GAAA,KACHC,YAAA,iBACAE,OACAgB,KAAA,kBAEG,wBAAApB,EAAAC,GAAA,QACHC,YAAA,mBACG,gBACF,WAAa,GAAAF,GAAAznB,IACd,OAAAynB,GAAAC,GAAA,MACAC,YAAA,mEACAE,OACAiB,IAAA,YAEGrB,EAAAC,GAAA,MACHC,YAAA,mBACG,iBhCugEGoB,IACA,SAASzrB,EAAQC,GiCviEvBD,EAAAC,SAAgBupB,OAAA,WAAmB,GAAAW,GAAAznB,IACnC,OAAAynB,GAAAC,GAAA,OACAC,YAAA,uBACGF,EAAAC,GAAA,QACHC,YAAA,qBACG,IAAAF,EAAAC,GAAA,OACHC,YAAA,mBACGF,EAAAC,GAAA,KACHC,YAAA,uBACAE,OACAplB,GAAA,mBAEAulB,IACAM,MAAA,SAAArU,GACAwT,EAAA/P,cAGG+P,EAAAC,GAAA,KACHC,YAAA,mBACG,kDAAAF,EAAAC,GAAA,KACHC,YAAA,uBACAE,OACAplB,GAAA,oBAEAulB,IACAM,MAAA,SAAArU,GACAwT,EAAA7P,eAGG6P,EAAAC,GAAA,KACHC,YAAA,mBACG,2CAAAF,EAAAC,GAAA,KACHC,YAAA,uBACAE,OACAplB,GAAA,gBAEAulB,IACAM,MAAA,SAAArU,GACAwT,EAAArQ,gBAGGqQ,EAAAC,GAAA,KACHC,YAAA,mBACG,uCACFZ,qBjC6iEKiC,IACA,SAAS1rB,EAAQC,GkC1lEvBD,EAAAC,SAAgBupB,OAAA,WAAmB,GAAAW,GAAAznB,IACnC,OAAAynB,GAAAC,GAAA,OAAAD,EAAAC,GAAA,eACAG,OACAziB,OAAAqiB,EAAApa,aAAAC,aAEG,SAAAma,EAAAS,GAAAT,EAAApa,aAAAE,aAAA,SAAAka,EAAAS,GAAAT,EAAApa,aAAAI,KAAA,iBAAAga,EAAAC,GAAA,OACHC,YAAA,SACAa,OACAS,YAAAxB,EAAApa,aAAAG,OAEAqa,OACAplB,GAAAglB,EAAApa,aAAAC,UACAqb,IAAAlB,EAAApa,aAAA6b,eAGCnC,qBlCgmEKoC,IACA,SAAS7rB,EAAQC,GmChnEvBD,EAAAC,SAAgBupB,OAAA,WAAmB,GAAAW,GAAAznB,IACnC,OAAAynB,GAAAC,GAAA,OACAG,OACAplB,GAAA,SAEGglB,EAAAC,GAAA,OACHC,YAAA,sDACGF,EAAAC,GAAA,mBAAAD,EAAAC,GAAA,iBAAAD,EAAAC,GAAA,QACHC,YAAA,4CACGF,EAAAC,GAAA,OACHC,YAAA,iBACGF,EAAAC,GAAA,OACHC,YAAA,aACGF,EAAAC,GAAA,OACHC,YAAA,sDACAE,OACAplB,GAAA,eAEGglB,EAAAC,GAAA,qBAAAD,EAAAC,GAAA,cACHE,IAAA,QACAC,OACAuB,aAAA,GACAC,MAAA,cAEG5B,EAAAC,GAAA,0DAAAD,EAAAC,GAAA,YACH4B,KAAA,YACG7B,EAAAC,GAAA,cACHG,OACA0B,QAAA,IAEAlB,UACAC,MAAA,SAAArU,GACAwT,EAAA3U,gBAAAmB,OAGG,kBAAAwT,EAAAC,GAAA,cACHE,IAAA,eACAC,OACAwB,MAAA,MAEArB,IACAjV,MAAA0U,EAAAlU,6BAEGkU,EAAAC,GAAA,KAAAD,EAAAS,GAAAT,EAAApV,kBAAA,IAAAoV,EAAAC,GAAA,OACHG,OACAplB,GAAA,gBAEG,IAAAglB,EAAAC,GAAA,0BACHE,IAAA,yBAECb,qBnCsnEKyC,IACA,SAASlsB,EAAQC,GoCzqEvBD,EAAAC,SAAgBupB,OAAA,WAAmB,GAAAW,GAAAznB,IACnC,OAAAynB,GAAAC,GAAA,cACAE,IAAA,kBACAC,OACAuB,aAAA,GACAC,MAAA,qBAEG5B,EAAAC,GAAA,iBACHG,OACA4B,iBAAA,YACA1qB,MAAA0oB,EAAAplB,SACAI,GAAA,2BAEG,IAAAglB,EAAAC,GAAA,YACH4B,KAAA,YACG7B,EAAAC,GAAA,cACHG,OACA0B,QAAA,GACA9mB,GAAA,0BAEA4lB,UACAC,MAAA,SAAArU,GACAwT,EAAA3T,gBAGG,eAAA2T,EAAAC,GAAA,cACHG,OACAplB,GAAA,2BAEA4lB,UACAC,MAAA,SAAArU,GACAwT,EAAA5a,qBAGG,iCAAA4a,EAAAC,GAAA,OACHG,OACAc,IAAAlB,EAAA5T,oBAGCkT,qBpC+qEK2C,IACA,SAASpsB,EAAQC,GqCvtEvBD,EAAAC,SAAgBupB,OAAA,WAAmB,GAAAW,GAAAznB,IACnC,OAAAynB,GAAAC,GAAA,OACAC,YAAA,uBACGF,EAAAC,GAAA,YACHK,UACAhpB,MAAA0oB,EAAA/S,aAEAsT,IACA2B,MAAA,SAAA1V,GACAwT,EAAAlS,aAAAtB,IAEA2V,MAAA,SAAA3V,GACAwT,EAAAhS,YAAAxB,IAEAqU,MAAA,SAAArU,GACAwT,EAAAhS,YAAAxB,OAGG,IAAAwT,EAAAW,GAAAX,EAAA,iBAAAxW,GACH,MAAAwW,GAAAC,GAAA,uBACAG,OACA5W,iBAIC8V,qBrC6tEK8C,IACA,SAASvsB,EAAQC","file":"static/js/app.c5b157cf3e2b1d54b854.js","sourcesContent":["webpackJsonp([2,0],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(198);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _App = __webpack_require__(349);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tvar _vueMdl = __webpack_require__(365);\n\t\n\tvar _vueMdl2 = _interopRequireDefault(_vueMdl);\n\t\n\tvar _store = __webpack_require__(48);\n\t\n\tvar _store2 = _interopRequireDefault(_store);\n\t\n\t__webpack_require__(344);\n\t\n\t__webpack_require__(253);\n\t\n\t__webpack_require__(262);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t__webpack_require__(252).polyfill();\n\t\n\t_vue2.default.use(_vueMdl2.default);\n\t\n\tnew _vue2.default({\n\t  store: _store2.default,\n\t  el: '#app',\n\t  template: '<App/>',\n\t  components: { App: _App2.default }\n\t});\n\n/***/ },\n\n/***/ 11:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _file = __webpack_require__(201);\n\t\n\tObject.defineProperty(exports, 'file', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _file.file;\n\t  }\n\t});\n\n/***/ },\n\n/***/ 30:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(212);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _promise = __webpack_require__(32);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _classCallCheck2 = __webpack_require__(52);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _createClass2 = __webpack_require__(53);\n\t\n\tvar _createClass3 = _interopRequireDefault(_createClass2);\n\t\n\tvar _multipart = __webpack_require__(200);\n\t\n\tvar _multipart2 = _interopRequireDefault(_multipart);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar GApiIntegration = function () {\n\t  function GApiIntegration() {\n\t    (0, _classCallCheck3.default)(this, GApiIntegration);\n\t\n\t    this.CLIENT_ID = (\"82194900104-fpkii8sk6vg12ihm0sf8v8c165bictn0.apps.googleusercontent.com\");\n\t    this.SCOPES = ['email', 'profile', 'https://www.googleapis.com/auth/drive', 'https://www.googleapis.com/auth/drive.install', 'https://www.googleapis.com/auth/plus.login'];\n\t\n\t    this.DEFAULT_FIELDS = 'capabilities(canCopy,canEdit),createdTime,fileExtension,id,mimeType,modifiedTime,name,shared,size,version';\n\t  }\n\t\n\t  (0, _createClass3.default)(GApiIntegration, [{\n\t    key: 'loadDriveApis',\n\t    value: function loadDriveApis() {\n\t      return new _promise2.default(function (resolve, reject) {\n\t        (function waitForApi() {\n\t          console.info('loadDriveApi...');\n\t          if (gapi && gapi.client) {\n\t            _promise2.default.all([gapi.client.load('drive', 'v3'), gapi.client.load('plus', 'v1'), gapi.load('picker'), gapi.load('drive-share'), gapi.load('drive-realtime')]).then(function () {\n\t              console.info('gapi.client.load finished!');\n\t              resolve();\n\t            });\n\t          } else {\n\t            setTimeout(function () {\n\t              return waitForApi();\n\t            }, 100);\n\t            console.info('wait for it...');\n\t          }\n\t        })();\n\t      });\n\t    }\n\t  }, {\n\t    key: 'authorize',\n\t    value: function authorize() {\n\t      var _this = this;\n\t\n\t      var immediate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\t      var user = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\t\n\t      console.info('authorize');\n\t      return new _promise2.default(function (resolve, reject) {\n\t        gapi.auth.authorize(_this.buildAuthRequest(immediate, user), function (authResult) {\n\t          console.info('RESULT!!!!!!!!');\n\t          if (authResult && !authResult.error) {\n\t            console.info('resolved!');\n\t            resolve();\n\t          } else {\n\t            console.info('rejected!');\n\t            reject();\n\t          }\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'buildAuthRequest',\n\t    value: function buildAuthRequest(immediateMode, user) {\n\t      var request = {\n\t        client_id: this.CLIENT_ID,\n\t        scope: this.SCOPES.join(' '),\n\t        immediate: immediateMode\n\t      };\n\t      if (user) {\n\t        request.login_hint = user;\n\t        request.authuser = -1;\n\t      }\n\t      return request;\n\t    }\n\t  }, {\n\t    key: 'getUserProfile',\n\t    value: function getUserProfile() {\n\t      return gapi.client.plus.people.get({\n\t        'userId': 'me'\n\t      });\n\t    }\n\t  }, {\n\t    key: 'saveFile',\n\t    value: function saveFile(file, filename) {\n\t      var path;\n\t      var method;\n\t\n\t      if (file.metadata.id) {\n\t        path = '/upload/drive/v3/files/' + encodeURIComponent(file.metadata.id);\n\t        method = 'PATCH';\n\t      } else {\n\t        path = '/upload/drive/v3/files';\n\t        method = 'POST';\n\t      }\n\t\n\t      var metadata = { mimeType: file.metadata.mimeType, name: filename || file.metadata.name };\n\t\n\t      var multipart = new _multipart2.default().append('application/json', (0, _stringify2.default)(metadata)).append(file.metadata.mimeType, file.content).finish();\n\t\n\t      return gapi.client.request({\n\t        path: path,\n\t        method: method,\n\t        params: {\n\t          uploadType: 'multipart',\n\t          fields: this.DEFAULT_FIELDS\n\t        },\n\t        headers: { 'Content-Type': multipart.type },\n\t        body: multipart.body\n\t      });\n\t    }\n\t  }, {\n\t    key: 'combineAndStoreResults',\n\t    value: function combineAndStoreResults(metadata, content) {\n\t      var file = {\n\t        metadata: metadata,\n\t        content: content\n\t      };\n\t      return file;\n\t    }\n\t  }, {\n\t    key: 'loadFile',\n\t    value: function loadFile(fileId) {\n\t      var _this2 = this;\n\t\n\t      return new _promise2.default(function (resolve, reject) {\n\t        var metadataRequest = gapi.client.drive.files.get({\n\t          fileId: fileId,\n\t          fields: _this2.DEFAULT_FIELDS\n\t        });\n\t        var contentRequest = gapi.client.drive.files.get({\n\t          fileId: fileId,\n\t          alt: 'media'\n\t        });\n\t\n\t        resolve(_promise2.default.all([metadataRequest, contentRequest]));\n\t      }).then(function (responses) {\n\t        return { metadata: responses[0].result, content: responses[1].body };\n\t      });\n\t    }\n\t  }, {\n\t    key: 'loadRtDoc',\n\t    value: function loadRtDoc(file, contentEventHandler, filenameEventHandler, collaboratorEventHandler, cursorsMapEventHandler) {\n\t      var _this3 = this;\n\t\n\t      var that = this;\n\t      return new _promise2.default(function (resolve, reject) {\n\t        gapi.drive.realtime.load(file.metadata.id, function (doc) {\n\t          console.log('loaded realtime doc', doc);\n\t\n\t          that.contentText = doc.getModel().getRoot().get('content');\n\t          that.contentText.addEventListener(gapi.drive.realtime.EventType.TEXT_INSERTED, contentEventHandler);\n\t          that.contentText.addEventListener(gapi.drive.realtime.EventType.TEXT_DELETED, contentEventHandler);\n\t\n\t          that.filenameText = doc.getModel().getRoot().get('filename');\n\t          that.filenameText.addEventListener(gapi.drive.realtime.EventType.TEXT_INSERTED, filenameEventHandler);\n\t          that.filenameText.addEventListener(gapi.drive.realtime.EventType.TEXT_DELETED, filenameEventHandler);\n\t\n\t          doc.addEventListener(gapi.drive.realtime.EventType.COLLABORATOR_JOINED, collaboratorEventHandler);\n\t          doc.addEventListener(gapi.drive.realtime.EventType.COLLABORATOR_LEFT, collaboratorEventHandler);\n\t          collaboratorEventHandler({ target: doc, type: 'init_collaborators' });\n\t\n\t          that.cursorsMap = doc.getModel().getRoot().get('cursors');\n\t          that.cursorsMap.addEventListener(gapi.drive.realtime.EventType.VALUE_CHANGED, cursorsMapEventHandler);\n\t\n\t          resolve(doc.getModel());\n\t        }, function (model) {\n\t          console.log('initializing model', model);\n\t\n\t          var contentString = model.createString(file.content);\n\t          model.getRoot().set('content', contentString);\n\t\n\t          var filenameString = model.createString(file.content);\n\t          model.getRoot().set('filename', filenameString);\n\t\n\t          that.cursorsMap = model.createMap();\n\t          model.getRoot().set('cursors', that.cursorsMap);\n\t        }, function (error) {\n\t          console.log('failed realtime load', error);\n\t          if (error.type === window.gapi.drive.realtime.ErrorType.TOKEN_REFRESH_REQUIRED) {\n\t            _this3.authorize(true).then(function () {\n\t              _this3.loadRtDoc(file, contentEventHandler, filenameEventHandler, collaboratorEventHandler, cursorsMapEventHandler);\n\t            }).catch(function () {\n\t              reject('Could not authorize');\n\t            });\n\t          } else if (error.type === window.gapi.drive.realtime.ErrorType.CLIENT_ERROR) {\n\t            reject('An Error happened: ' + error.message);\n\t          } else if (error.type === window.gapi.drive.realtime.ErrorType.NOT_FOUND) {\n\t            reject('The file does not exist or you do not have permissions to access it.');\n\t          } else if (error.type === window.gapi.drive.realtime.ErrorType.FORBIDDEN) {\n\t            reject('You do not have access to this file. Try having the owner share it with you from Google Drive.');\n\t            window.location.href = '/';\n\t          }\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'showPicker',\n\t    value: function showPicker() {\n\t      return new _promise2.default(function (resolve, reject) {\n\t        var view = new google.picker.DocsView(google.picker.ViewId.DOCS);\n\t        view.setMimeTypes((\"text/plain\"));\n\t        view.setSelectFolderEnabled(true);\n\t        view.setIncludeFolders(true);\n\t        var picker = new google.picker.PickerBuilder().setAppId((\"82194900104\")).setOAuthToken(gapi.auth.getToken().access_token).addView(view).setCallback(function (data) {\n\t          if (data.action === 'picked') {\n\t            var id = data.docs[0].id;\n\t            resolve(id);\n\t          } else if (data.action === 'cancel') {\n\t            reject('cancel');\n\t          }\n\t        }).build();\n\t        picker.setVisible(true);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'showSharing',\n\t    value: function showSharing(id) {\n\t      var share = new gapi.drive.share.ShareClient((\"82194900104\"));\n\t      share.setOAuthToken(gapi.auth.getToken().access_token);\n\t      share.setItemIds([id]);\n\t      share.showSettingsDialog();\n\t    }\n\t  }]);\n\t  return GApiIntegration;\n\t}();\n\t\n\texports.default = new GApiIntegration();\n\n/***/ },\n\n/***/ 31:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar NEW_FILE = exports.NEW_FILE = 'NEW_FILE';\n\tvar FILE_SAVED = exports.FILE_SAVED = 'FILE_SAVED';\n\tvar FILE_SAVING = exports.FILE_SAVING = 'FILE_SAVING';\n\tvar FILE_NOT_SAVED = exports.FILE_NOT_SAVED = 'FILE_NOT_SAVED';\n\t\n\tvar EDIT_CONTENT = exports.EDIT_CONTENT = 'EDIT_CONTENT';\n\tvar INSERT_CONTENT = exports.INSERT_CONTENT = 'INSERT_CONTENT';\n\tvar DELETE_CONTENT = exports.DELETE_CONTENT = 'DELETE_CONTENT';\n\tvar RENAME_FILE = exports.RENAME_FILE = 'RENAME_FILE';\n\tvar LOAD_FILE = exports.LOAD_FILE = 'LOAD_FILE';\n\t\n\tvar SET_COLLABORATORS = exports.SET_COLLABORATORS = 'SET_COLLABORATORS';\n\tvar SET_CURSORS = exports.SET_CURSORS = 'SET_CURSORS';\n\n/***/ },\n\n/***/ 48:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(198);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _vuex = __webpack_require__(47);\n\t\n\tvar _vuex2 = _interopRequireDefault(_vuex);\n\t\n\tvar _file = __webpack_require__(49);\n\t\n\tvar _file2 = _interopRequireDefault(_file);\n\t\n\tvar _collaborators = __webpack_require__(203);\n\t\n\tvar _collaborators2 = _interopRequireDefault(_collaborators);\n\t\n\tvar _actions = __webpack_require__(202);\n\t\n\tvar actions = _interopRequireWildcard(_actions);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_vuex2.default);\n\tconsole.log('Using Vuex');\n\t\n\tvar debug = (\"production\") !== 'production';\n\t\n\texports.default = new _vuex2.default.Store({\n\t  actions: actions,\n\t\n\t  modules: {\n\t    file: _file2.default,\n\t    collaborators: _collaborators2.default\n\t  },\n\t  strict: debug\n\t});\n\n/***/ },\n\n/***/ 49:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.STATUS_LIST = undefined;\n\t\n\tvar _defineProperty2 = __webpack_require__(54);\n\t\n\tvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\t\n\tvar _mutations;\n\t\n\tvar _lodash = __webpack_require__(87);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _mutationTypes = __webpack_require__(31);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar STATUS_LIST = exports.STATUS_LIST = {\n\t  INITIAL: 'INTIAL',\n\t  SAVING: 'SAVING',\n\t  SAVED: 'SAVED',\n\t  NOT_SAVED: 'NOT_SAVED',\n\t  DIRTY: 'DIRTY'\n\t};\n\t\n\tvar state = {\n\t  metadata: {\n\t    name: 'New document',\n\t    id: 'no-id'\n\t  },\n\t  content: '',\n\t  status: STATUS_LIST.INITIAL\n\t};\n\t\n\tvar mutations = (_mutations = {}, (0, _defineProperty3.default)(_mutations, _mutationTypes.NEW_FILE, function (state, name) {\n\t  state.metadata = {\n\t    id: null,\n\t    mimeType: (\"text/plain\"),\n\t    name: name\n\t  };\n\t  state.content = '';\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.FILE_SAVED, function (state, metadata) {\n\t  _lodash2.default.assign(state.metadata, metadata);\n\t  state.status = STATUS_LIST.SAVED;\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.FILE_NOT_SAVED, function (state) {\n\t  state.status = STATUS_LIST.NOT_SAVED;\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.FILE_SAVING, function (state) {\n\t  state.status = STATUS_LIST.SAVING;\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.FILE_DIRTY, function (state) {\n\t  state.status = STATUS_LIST.DIRTY;\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.EDIT_CONTENT, function (state, content) {\n\t  state.content = content;\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.INSERT_CONTENT, function (state, _ref) {\n\t  var index = _ref.index,\n\t      text = _ref.text;\n\t\n\t  var content = state.content;\n\t  state.content = content.slice(0, index) + text + content.slice(index);\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.DELETE_CONTENT, function (state, _ref2) {\n\t  var index = _ref2.index,\n\t      text = _ref2.text;\n\t\n\t  var content = state.content;\n\t  state.content = content.slice(0, index) + content.slice(index + text.length);\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.RENAME_FILE, function (state, filename) {\n\t  state.metadata.name = filename;\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.LOAD_FILE, function (state, file) {\n\t  state.metadata = file.metadata;\n\t  state.content = file.content;\n\t  state.status = state.status = STATUS_LIST.SAVED;\n\t}), _mutations);\n\t\n\texports.default = {\n\t  state: state,\n\t  mutations: mutations\n\t};\n\n/***/ },\n\n/***/ 50:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  state: {\n\t    name: '',\n\t    image: '',\n\t    email: ''\n\t  },\n\t\n\t  setUser: function setUser(user) {\n\t    this.state.name = user.name;\n\t    this.state.image = user.image;\n\t    this.state.email = user.email;\n\t  }\n\t};\n\n/***/ },\n\n/***/ 200:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(52);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _createClass2 = __webpack_require__(53);\n\t\n\tvar _createClass3 = _interopRequireDefault(_createClass2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar _class = function () {\n\t  function _class() {\n\t    (0, _classCallCheck3.default)(this, _class);\n\t\n\t    this.boundary = Math.random().toString(36).slice(2);\n\t    this.mimeType = 'multipart/mixed; boundary=\"' + this.boundary + '\"';\n\t    this.parts = [];\n\t    this.body = null;\n\t  }\n\t\n\t  (0, _createClass3.default)(_class, [{\n\t    key: 'append',\n\t    value: function append(mimeType, content) {\n\t      if (this.body !== null) {\n\t        throw new Error('Builder has already been finalized.');\n\t      }\n\t      this.parts.push('\\r\\n--', this.boundary, '\\r\\n', 'Content-Type: ', mimeType, '\\r\\n\\r\\n', content);\n\t      return this;\n\t    }\n\t  }, {\n\t    key: 'finish',\n\t    value: function finish() {\n\t      if (this.parts.length === 0) {\n\t        throw new Error('No parts have been added.');\n\t      }\n\t      if (this.body === null) {\n\t        this.parts.push('\\r\\n--', this.boundary, '--');\n\t        this.body = this.parts.join('');\n\t      }\n\t      return {\n\t        type: this.mimeType,\n\t        body: this.body\n\t      };\n\t    }\n\t  }]);\n\t  return _class;\n\t}();\n\n\texports.default = _class;\n\n/***/ },\n\n/***/ 201:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.file = undefined;\n\t\n\tvar _promise = __webpack_require__(32);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _gapiIntegration = __webpack_require__(30);\n\t\n\tvar _gapiIntegration2 = _interopRequireDefault(_gapiIntegration);\n\t\n\tvar _store = __webpack_require__(48);\n\t\n\tvar _store2 = _interopRequireDefault(_store);\n\t\n\tvar _get2 = __webpack_require__(81);\n\t\n\tvar _get3 = _interopRequireDefault(_get2);\n\t\n\tvar _find2 = __webpack_require__(333);\n\t\n\tvar _find3 = _interopRequireDefault(_find2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar file = exports.file = {\n\t  model: null,\n\t\n\t  createNewFile: function createNewFile(filename) {\n\t    var _this = this;\n\t\n\t    return new _promise2.default(function (resolve, reject) {\n\t      _store2.default.dispatch('createNewFile', filename).then(function (file) {\n\t        _gapiIntegration2.default.loadRtDoc(file, _this.contentEventHandler, _this.filenameEventHandler, _this.collaboratorEventHandler, _this.cursorsMapEventHandler.bind(_this)).then(function () {\n\t          resolve(file);\n\t        }).catch(function () {\n\t          reject('rt file not loaded');\n\t        });\n\t      }).catch(function () {\n\t        return reject('not loaded');\n\t      });\n\t    });\n\t  },\n\t  openFromGDrive: function openFromGDrive() {\n\t    var _this2 = this;\n\t\n\t    return new _promise2.default(function (resolve, reject) {\n\t      _gapiIntegration2.default.showPicker().then(function (id) {\n\t        if (id !== (0, _get3.default)(_store2.default, 'state.file.metadata.id')) {\n\t          _this2.loadFromGDrive(id).then(function () {\n\t            return resolve();\n\t          }).then(function (error) {\n\t            return reject(error);\n\t          });\n\t        }\n\t      }).catch(function () {\n\t        reject('not picked');\n\t      });\n\t    });\n\t  },\n\t  loadFromGDrive: function loadFromGDrive(id) {\n\t    var _this3 = this;\n\t\n\t    return new _promise2.default(function (resolve, reject) {\n\t      _gapiIntegration2.default.loadFile(id).then(function (file) {\n\t        _store2.default.dispatch('loadFile', file);\n\t        return file;\n\t      }).then(function (file) {\n\t        _gapiIntegration2.default.loadRtDoc(file, _this3.contentEventHandler, _this3.filenameEventHandler, _this3.collaboratorEventHandler, _this3.cursorsMapEventHandler.bind(_this3)).then(function () {\n\t          _store2.default.dispatch('updateContent', _gapiIntegration2.default.contentText.getText());\n\t          resolve(file);\n\t        }).catch(function (error) {\n\t          reject(error);\n\t        });\n\t      }).catch(function (error) {\n\t        console.error(error);\n\t        reject(error.result.error.message);\n\t      });\n\t    });\n\t  },\n\t  contentEventHandler: function contentEventHandler(evt) {\n\t    console.log('contentEventHandler');\n\t    _store2.default.dispatch('updateContent', _gapiIntegration2.default.contentText.getText());\n\t  },\n\t  filenameEventHandler: function filenameEventHandler(evt) {\n\t    console.log('filenameEventHandler: ' + _gapiIntegration2.default.filenameText.getText());\n\t    _store2.default.dispatch('updateFilename', _gapiIntegration2.default.filenameText.getText());\n\t  },\n\t  collaboratorEventHandler: function collaboratorEventHandler(evt) {\n\t    console.log('---------------- collaboratorEventHandler: ' + (evt ? evt.type : 'none'));\n\t    console.log(evt.target.getCollaborators().length + 'COLLABORATORS');\n\t    evt.target.getCollaborators().forEach(function (collaborator) {\n\t      console.log('User ID:' + collaborator.userId);\n\t      console.log('Session ID:' + collaborator.sessionId);\n\t      console.log('Name:' + collaborator.displayName);\n\t      console.log('Color:' + collaborator.color);\n\t      console.log('IS_ME: ' + collaborator.isMe);\n\t    });\n\t\n\t    _store2.default.dispatch('setCollaborators', evt.target.getCollaborators());\n\t  },\n\t  moveCursor: function moveCursor(pos) {\n\t    this.getMyRegisteredReference(pos).index = pos;\n\t  },\n\t  cursorsMapEventHandler: function cursorsMapEventHandler(evt) {\n\t    _store2.default.dispatch('setCursors', this.getCursors());\n\t  },\n\t  getCursors: function getCursors() {\n\t    var cursorsMap = this.garbageCollectCursors();\n\t    var keys = cursorsMap.keys();\n\t    var cursors = {};\n\t    for (var i = 0; i < keys.length; i++) {\n\t      cursors[keys[i]] = cursorsMap.get(keys[i]).index;\n\t    }\n\t\n\t    return cursors;\n\t  },\n\t\n\t\n\t  garbageCollectCursors: function garbageCollectCursors() {\n\t    var cursorsMap = _gapiIntegration2.default.cursorsMap;\n\t    var keys = cursorsMap.keys();\n\t    for (var i = 0; i < keys.length; i++) {\n\t      if (!this.getCollaborator(keys[i])) {\n\t        cursorsMap.delete(keys[i]);\n\t      } else {\n\t        cursorsMap.get(keys[i]).removeAllEventListeners();\n\t        cursorsMap.get(keys[i]).addEventListener(gapi.drive.realtime.EventType.REFERENCE_SHIFTED, this.onReferenceShifted.bind(this));\n\t      }\n\t    }\n\t\n\t    return cursorsMap;\n\t  },\n\t\n\t  getCollaborator: function getCollaborator(sessionId) {\n\t    var collaborators = (0, _get3.default)(_store2.default, 'state.collaborators.users');\n\t    if (!collaborators) {\n\t      return null;\n\t    }\n\t    return (0, _find3.default)(collaborators, { 'sessionId': sessionId });\n\t  },\n\t\n\t  getMyCollaborator: function getMyCollaborator() {\n\t    var collaborators = (0, _get3.default)(_store2.default, 'state.collaborators.users');\n\t    if (!collaborators) {\n\t      return null;\n\t    }\n\t    return (0, _find3.default)(collaborators, { 'isMe': true });\n\t  },\n\t\n\t  getMyRegisteredReference: function getMyRegisteredReference(pos) {\n\t    var cursorsMap = _gapiIntegration2.default.cursorsMap;\n\t    if (!cursorsMap) {\n\t      return null;\n\t    }\n\t\n\t    var myRegisteredReference = cursorsMap.get(this.getMyCollaborator().sessionId);\n\t    if (myRegisteredReference) {\n\t      return myRegisteredReference;\n\t    }\n\t    var myNewRegisteredReference = _gapiIntegration2.default.contentText.registerReference(pos, true);\n\t    myNewRegisteredReference.addEventListener(gapi.drive.realtime.EventType.REFERENCE_SHIFTED, this.onReferenceShifted.bind(this));\n\t    _gapiIntegration2.default.cursorsMap.set(this.getMyCollaborator().sessionId, myNewRegisteredReference);\n\t    return myNewRegisteredReference;\n\t  },\n\t\n\t  onReferenceShifted: function onReferenceShifted() {\n\t    _store2.default.dispatch('setCursors', this.getCursors());\n\t  },\n\t\n\t  share: function share() {\n\t    return _gapiIntegration2.default.showSharing((0, _get3.default)(_store2.default, 'state.file.metadata.id'));\n\t  }\n\t};\n\n/***/ },\n\n/***/ 202:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.setCursors = exports.setCollaborators = exports.loadFile = exports.updateFilename = exports.renameFile = exports.updateContent = exports.editContent = exports.saveFile = exports.createNewFile = undefined;\n\t\n\tvar _promise = __webpack_require__(32);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _gapiIntegration = __webpack_require__(30);\n\t\n\tvar _gapiIntegration2 = _interopRequireDefault(_gapiIntegration);\n\t\n\tvar _mutationTypes = __webpack_require__(31);\n\t\n\tvar types = _interopRequireWildcard(_mutationTypes);\n\t\n\tvar _lodash = __webpack_require__(87);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _querystringify = __webpack_require__(197);\n\t\n\tvar _querystringify2 = _interopRequireDefault(_querystringify);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar createNewFile = exports.createNewFile = function createNewFile(_ref, filename) {\n\t  var commit = _ref.commit,\n\t      state = _ref.state;\n\t\n\t  console.log('Creating new file');\n\t  commit(types.NEW_FILE, filename);\n\t\n\t  return new _promise2.default(function (resolve, reject) {\n\t    _gapiIntegration2.default.saveFile(state.file, filename).then(function (result) {\n\t      return commit(types.FILE_SAVED, result.result);\n\t    }, function (reason) {\n\t      return commit(types.FILE_NOT_SAVED);\n\t    }).then(function () {\n\t      updateWindowUrl(state.file.metadata);\n\t    }).then(function () {\n\t      resolve(state.file);\n\t    });\n\t  });\n\t};\n\t\n\tvar saveFile = exports.saveFile = function saveFile(_ref2) {\n\t  var commit = _ref2.commit,\n\t      state = _ref2.state;\n\t\n\t  console.log('Saving new file');\n\t  commit(types.FILE_SAVING);\n\t\n\t  return new _promise2.default(function (resolve, reject) {\n\t    _gapiIntegration2.default.saveFile(state.file).then(function (result) {\n\t      commit(types.FILE_SAVED, result.result);\n\t      resolve();\n\t    }, function (reason) {\n\t      commit(types.FILE_NOT_SAVED);\n\t      reject(reason);\n\t    });\n\t  });\n\t};\n\t\n\tvar debounceSave = _lodash2.default.debounce(saveFile, 2000);\n\t\n\tvar editContent = exports.editContent = function editContent(_ref3, value) {\n\t  var commit = _ref3.commit,\n\t      state = _ref3.state;\n\t\n\t  _gapiIntegration2.default.contentText.setText(value);\n\t\n\t  debounceSave({ commit: commit, state: state });\n\t  commit(types.FILE_DIRTY);\n\t};\n\t\n\tvar updateContent = exports.updateContent = function updateContent(_ref4, text) {\n\t  var commit = _ref4.commit,\n\t      state = _ref4.state;\n\t\n\t  commit(types.EDIT_CONTENT, text);\n\t};\n\t\n\tvar renameFile = exports.renameFile = function renameFile(_ref5, filename) {\n\t  var commit = _ref5.commit,\n\t      state = _ref5.state;\n\t\n\t  console.log('renaming file');\n\t  _gapiIntegration2.default.filenameText.setText(filename);\n\t\n\t  debounceSave({ commit: commit, state: state });\n\t  commit(types.FILE_DIRTY);\n\t};\n\t\n\tvar updateFilename = exports.updateFilename = function updateFilename(_ref6, filename) {\n\t  var commit = _ref6.commit,\n\t      state = _ref6.state;\n\t\n\t  commit(types.RENAME_FILE, filename);\n\t};\n\t\n\tvar loadFile = exports.loadFile = function loadFile(_ref7, file) {\n\t  var commit = _ref7.commit,\n\t      state = _ref7.state;\n\t\n\t  commit(types.LOAD_FILE, file);\n\t  updateWindowUrl(state.file.metadata);\n\t};\n\t\n\tvar setCollaborators = exports.setCollaborators = function setCollaborators(_ref8, collaborators) {\n\t  var commit = _ref8.commit,\n\t      state = _ref8.state;\n\t\n\t  commit(types.SET_COLLABORATORS, collaborators);\n\t};\n\t\n\tvar setCursors = exports.setCursors = function setCursors(_ref9, cursors) {\n\t  var commit = _ref9.commit,\n\t      state = _ref9.state;\n\t\n\t  commit(types.SET_CURSORS, cursors);\n\t};\n\t\n\tfunction updateWindowUrl(fileMetadata) {\n\t  var queryVars = _querystringify2.default.parse(window.location.search);\n\t  queryVars.file = fileMetadata.id;\n\t  window.history.pushState({}, fileMetadata.name, (window.location.pathname || '') + _querystringify2.default.stringify(queryVars, true));\n\t}\n\n/***/ },\n\n/***/ 203:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _defineProperty2 = __webpack_require__(54);\n\t\n\tvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\t\n\tvar _extends2 = __webpack_require__(33);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _mutations;\n\t\n\tvar _mutationTypes = __webpack_require__(31);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar state = {\n\t  users: []\n\t};\n\t\n\tvar mutations = (_mutations = {}, (0, _defineProperty3.default)(_mutations, _mutationTypes.SET_COLLABORATORS, function (state, collaborators) {\n\t  state.users = collaborators;\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.SET_CURSORS, function (state, cursors) {\n\t  state.users = state.users.reduce(function (users, user) {\n\t    if (cursors[user.sessionId]) {\n\t      user = (0, _extends3.default)({}, user, { cursor: cursors[user.sessionId] });\n\t    }\n\t\n\t    users.push(user);\n\t    return users;\n\t  }, []);\n\t}), _mutations);\n\t\n\texports.default = {\n\t  state: state,\n\t  mutations: mutations\n\t};\n\n/***/ },\n\n/***/ 204:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _querystringify = __webpack_require__(197);\n\t\n\tvar _querystringify2 = _interopRequireDefault(_querystringify);\n\t\n\tvar _PageHeader = __webpack_require__(354);\n\t\n\tvar _PageHeader2 = _interopRequireDefault(_PageHeader);\n\t\n\tvar _SideMenu = __webpack_require__(356);\n\t\n\tvar _SideMenu2 = _interopRequireDefault(_SideMenu);\n\t\n\tvar _CreateNewFileDialog = __webpack_require__(351);\n\t\n\tvar _CreateNewFileDialog2 = _interopRequireDefault(_CreateNewFileDialog);\n\t\n\tvar _TextView = __webpack_require__(352);\n\t\n\tvar _TextView2 = _interopRequireDefault(_TextView);\n\t\n\tvar _ProfileMenu = __webpack_require__(355);\n\t\n\tvar _ProfileMenu2 = _interopRequireDefault(_ProfileMenu);\n\t\n\tvar _gapiIntegration = __webpack_require__(30);\n\t\n\tvar _gapiIntegration2 = _interopRequireDefault(_gapiIntegration);\n\t\n\tvar _user = __webpack_require__(50);\n\t\n\tvar _user2 = _interopRequireDefault(_user);\n\t\n\tvar _services = __webpack_require__(11);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  components: {\n\t    PageHeader: _PageHeader2.default,\n\t    TextView: _TextView2.default,\n\t    ProfileMenu: _ProfileMenu2.default,\n\t    SideMenu: _SideMenu2.default,\n\t    'create-new-file-dialog': _CreateNewFileDialog2.default\n\t  },\n\t  data: function data() {\n\t    return {\n\t      user: null,\n\t      file: null,\n\t      errorMessage: ''\n\t    };\n\t  },\n\t  mounted: function mounted() {\n\t    var _this = this;\n\t\n\t    var queryVars = _querystringify2.default.parse(window.location.search);\n\t    this.user = queryVars.user;\n\t    this.file = queryVars.file;\n\t\n\t    _gapiIntegration2.default.loadDriveApis().then(function () {\n\t      console.log('starting authorize');\n\t      _gapiIntegration2.default.authorize(true, _this.user).then(function () {\n\t        _this.loadUserData();\n\t        _this.loadThisFile();\n\t      }).catch(function (reason) {\n\t        console.log('error inload or authorize');\n\t        _this.$refs.login.open();\n\t      });\n\t    });\n\t  },\n\t  methods: {\n\t    handleAuthClick: function handleAuthClick() {\n\t      var _this2 = this;\n\t\n\t      this.$refs.login.close();\n\t      _gapiIntegration2.default.authorize(false, this.user).then(function () {\n\t        _this2.loadUserData();\n\t        _this2.loadThisFile();\n\t      });\n\t    },\n\t    loadUserData: function loadUserData() {\n\t      console.log('load userData');\n\t      _gapiIntegration2.default.getUserProfile().then(function (resp) {\n\t        console.log(resp);\n\t        _user2.default.setUser({\n\t          name: resp.result.displayName,\n\t          image: resp.result.image.url,\n\t          email: resp.result.emails[0].value\n\t        });\n\t      });\n\t    },\n\t    loadThisFile: function loadThisFile() {\n\t      var _this3 = this;\n\t\n\t      console.log('load file');\n\t\n\t      if (this.file) {\n\t        _services.file.loadFromGDrive(this.file).catch(function (error) {\n\t          _this3.errorMessage = error;\n\t          _this3.$refs.errorMessage.open();\n\t        });\n\t      } else {\n\t        this.openCreateNewFile();\n\t      }\n\t    },\n\t    openCreateNewFile: function openCreateNewFile() {\n\t      this.$refs.create_new_file.openDialog();\n\t    },\n\t    closeErrorMessageCallback: function closeErrorMessageCallback() {\n\t      window.location('/');\n\t    }\n\t  }\n\t};\n\n/***/ },\n\n/***/ 205:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  props: ['cursor']\n\t};\n\n/***/ },\n\n/***/ 206:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _googleDrive = __webpack_require__(348);\n\t\n\tvar _googleDrive2 = _interopRequireDefault(_googleDrive);\n\t\n\tvar _services = __webpack_require__(11);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  data: function data() {\n\t    return {\n\t      filename: 'New document',\n\t      gdriveSvg: _googleDrive2.default\n\t    };\n\t  },\n\t\n\t  methods: {\n\t    openDialog: function openDialog() {\n\t      this.filename = 'New document';\n\t      this.$refs.create_new_file.open();\n\t    },\n\t    createNew: function createNew() {\n\t      this.$refs.create_new_file.close();\n\t      _services.file.createNewFile(this.$el.querySelector('#create-filename-input').value);\n\t    },\n\t    openFromGDrive: function openFromGDrive() {\n\t      var _this = this;\n\t\n\t      _services.file.openFromGDrive().then(function () {\n\t        _this.$refs.create_new_file.close();\n\t      }).catch(function () {\n\t        console.info('Canceled gapi picker.');\n\t      });\n\t    },\n\t    updateFilename: function updateFilename($event) {\n\t      this.filename = $event.value;\n\t    }\n\t  }\n\t};\n\n/***/ },\n\n/***/ 207:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(33);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _vuex = __webpack_require__(47);\n\t\n\tvar _services = __webpack_require__(11);\n\t\n\tvar _textareaCaret = __webpack_require__(347);\n\t\n\tvar _textareaCaret2 = _interopRequireDefault(_textareaCaret);\n\t\n\tvar _CollaboratorCursor = __webpack_require__(350);\n\t\n\tvar _CollaboratorCursor2 = _interopRequireDefault(_CollaboratorCursor);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  components: {\n\t    CollaboratorCursor: _CollaboratorCursor2.default\n\t  },\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapState)({\n\t    fileContent: function fileContent(state) {\n\t      return state.file.content;\n\t    },\n\t    collaborators: function collaborators(state) {\n\t      return state.collaborators.users;\n\t    }\n\t  }), {\n\t    cursors: function cursors() {\n\t      var _this = this;\n\t\n\t      return this.collaborators.filter(function (collaborator) {\n\t        return typeof collaborator.cursor !== 'undefined' && !collaborator.isMe;\n\t      }).map(function (collaborator) {\n\t        var position = _this.$el ? (0, _textareaCaret2.default)(_this.$el.querySelector('textarea'), collaborator.cursor) : { top: 0, left: 0 };\n\t        return {\n\t          color: collaborator.color,\n\t          collaboratorName: collaborator.displayName,\n\t          position: position,\n\t          sessionId: collaborator.sessionId\n\t        };\n\t      }, this);\n\t    }\n\t  }),\n\t  watch: {\n\t    fileContent: function fileContent(_fileContent) {\n\t      var _this2 = this;\n\t\n\t      this.$nextTick(function () {\n\t        var me = _this2.collaborators.find(function (collaborator) {\n\t          return collaborator.isMe;\n\t        });\n\t        if (me && me.cursor) {\n\t          _this2.$el.querySelector('textarea').setSelectionRange(me.cursor, me.cursor);\n\t        }\n\t      });\n\t    }\n\t  },\n\t  methods: (0, _extends3.default)({\n\t    inputContent: function inputContent(event) {\n\t      this.editContent(event.target.value);\n\t    },\n\t    carretMoved: function carretMoved(event) {\n\t      _services.file.moveCursor(event.target.selectionStart);\n\t    }\n\t  }, (0, _vuex.mapActions)(['editContent']))\n\t};\n\n/***/ },\n\n/***/ 208:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  props: ['collaborator']\n\t};\n\n/***/ },\n\n/***/ 209:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(33);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _vuex = __webpack_require__(47);\n\t\n\tvar _autosizeInput = __webpack_require__(199);\n\t\n\tvar _autosizeInput2 = _interopRequireDefault(_autosizeInput);\n\t\n\tvar _file = __webpack_require__(49);\n\t\n\tvar _services = __webpack_require__(11);\n\t\n\tvar _moment = __webpack_require__(1);\n\t\n\tvar _moment2 = _interopRequireDefault(_moment);\n\t\n\tvar _Collaborator = __webpack_require__(353);\n\t\n\tvar _Collaborator2 = _interopRequireDefault(_Collaborator);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  components: {\n\t    Collaborator: _Collaborator2.default\n\t  },\n\t  data: function data() {\n\t    return {\n\t      showSavedMoment: false,\n\t      now: Date.now()\n\t    };\n\t  },\n\t  computed: (0, _extends3.default)({\n\t    fileName: function fileName() {\n\t      var _this = this;\n\t\n\t      if (this && this.$refs.filename) {\n\t        setTimeout(function () {\n\t          _this.$refs.filename.dispatchEvent(new Event('input'));\n\t        }, 10);\n\t      }\n\t      return this.$store.state.file.metadata.name;\n\t    },\n\t    fileStatus: function fileStatus() {\n\t      switch (this.$store.state.file.status) {\n\t        case _file.STATUS_LIST.INTIAL:\n\t          return 'New file';\n\t        case _file.STATUS_LIST.SAVING:\n\t          return 'Saving...';\n\t        case _file.STATUS_LIST.SAVED:\n\t          return 'Saved ' + (0, _moment2.default)(this.$store.state.file.metadata.modifiedTime).from(this.now);\n\t        case _file.STATUS_LIST.NOT_SAVED:\n\t          return 'Could not save to drive';\n\t        case _file.STATUS_LIST.DIRTY:\n\t          return 'Saving...';\n\t      }\n\t    }\n\t  }, (0, _vuex.mapState)({\n\t    fileId: function fileId(state) {\n\t      return state.file.metadata.id;\n\t    },\n\t    collaborators: function collaborators(state) {\n\t      return state.collaborators.users;\n\t    }\n\t  })),\n\t  watch: {\n\t    'fileName': function fileName(val, oldVal) {\n\t      if (typeof this !== 'undefined') {\n\t        this.$refs.filename.dispatchEvent(new Event('input'));\n\t      }\n\t    }\n\t  },\n\t  methods: (0, _extends3.default)({}, (0, _vuex.mapActions)(['renameFile']), {\n\t    rename: function rename(e) {\n\t      this.renameFile(e.target.value);\n\t    },\n\t    openShare: function openShare() {\n\t      _services.file.share();\n\t    }\n\t  }),\n\t\n\t  mounted: function mounted() {\n\t    var _this2 = this;\n\t\n\t    this.$nextTick(function () {\n\t      (0, _autosizeInput2.default)(_this2.$refs.filename);\n\t    });\n\t\n\t    setInterval(function () {\n\t      _this2.now = new Date();\n\t    }, 1000);\n\t  }\n\t};\n\n/***/ },\n\n/***/ 210:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _user = __webpack_require__(50);\n\t\n\tvar _user2 = _interopRequireDefault(_user);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  data: function data() {\n\t    return {\n\t      user: _user2.default.state\n\t    };\n\t  }\n\t};\n\n/***/ },\n\n/***/ 211:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _services = __webpack_require__(11);\n\t\n\tvar _indexOf = __webpack_require__(337);\n\t\n\tvar _indexOf2 = _interopRequireDefault(_indexOf);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  methods: {\n\t    newFile: function newFile() {\n\t      window.open('/', '_blank');\n\t      this.closeNav();\n\t    },\n\t    openFile: function openFile() {\n\t      _services.file.openFromGDrive();\n\t    },\n\t    openShare: function openShare() {\n\t      _services.file.share();\n\t    },\n\t    closeNav: function closeNav() {\n\t      setTimeout(function () {\n\t        var d = document.querySelector('.mdl-layout__drawer');\n\t        if ((0, _indexOf2.default)(d.classList, 'is-visible') !== -1) {\n\t          document.querySelector('.mdl-layout').MaterialLayout.toggleDrawer();\n\t        }\n\t      }, 100);\n\t    }\n\t  }\n\t};\n\n/***/ },\n\n/***/ 253:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 254:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 255:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 256:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 257:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 258:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 259:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 260:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 261:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 262:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 345:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar map = {\n\t\t\"./af\": 89,\n\t\t\"./af.js\": 89,\n\t\t\"./ar\": 95,\n\t\t\"./ar-dz\": 90,\n\t\t\"./ar-dz.js\": 90,\n\t\t\"./ar-ly\": 91,\n\t\t\"./ar-ly.js\": 91,\n\t\t\"./ar-ma\": 92,\n\t\t\"./ar-ma.js\": 92,\n\t\t\"./ar-sa\": 93,\n\t\t\"./ar-sa.js\": 93,\n\t\t\"./ar-tn\": 94,\n\t\t\"./ar-tn.js\": 94,\n\t\t\"./ar.js\": 95,\n\t\t\"./az\": 96,\n\t\t\"./az.js\": 96,\n\t\t\"./be\": 97,\n\t\t\"./be.js\": 97,\n\t\t\"./bg\": 98,\n\t\t\"./bg.js\": 98,\n\t\t\"./bn\": 99,\n\t\t\"./bn.js\": 99,\n\t\t\"./bo\": 100,\n\t\t\"./bo.js\": 100,\n\t\t\"./br\": 101,\n\t\t\"./br.js\": 101,\n\t\t\"./bs\": 102,\n\t\t\"./bs.js\": 102,\n\t\t\"./ca\": 103,\n\t\t\"./ca.js\": 103,\n\t\t\"./cs\": 104,\n\t\t\"./cs.js\": 104,\n\t\t\"./cv\": 105,\n\t\t\"./cv.js\": 105,\n\t\t\"./cy\": 106,\n\t\t\"./cy.js\": 106,\n\t\t\"./da\": 107,\n\t\t\"./da.js\": 107,\n\t\t\"./de\": 109,\n\t\t\"./de-at\": 108,\n\t\t\"./de-at.js\": 108,\n\t\t\"./de.js\": 109,\n\t\t\"./dv\": 110,\n\t\t\"./dv.js\": 110,\n\t\t\"./el\": 111,\n\t\t\"./el.js\": 111,\n\t\t\"./en-au\": 112,\n\t\t\"./en-au.js\": 112,\n\t\t\"./en-ca\": 113,\n\t\t\"./en-ca.js\": 113,\n\t\t\"./en-gb\": 114,\n\t\t\"./en-gb.js\": 114,\n\t\t\"./en-ie\": 115,\n\t\t\"./en-ie.js\": 115,\n\t\t\"./en-nz\": 116,\n\t\t\"./en-nz.js\": 116,\n\t\t\"./eo\": 117,\n\t\t\"./eo.js\": 117,\n\t\t\"./es\": 119,\n\t\t\"./es-do\": 118,\n\t\t\"./es-do.js\": 118,\n\t\t\"./es.js\": 119,\n\t\t\"./et\": 120,\n\t\t\"./et.js\": 120,\n\t\t\"./eu\": 121,\n\t\t\"./eu.js\": 121,\n\t\t\"./fa\": 122,\n\t\t\"./fa.js\": 122,\n\t\t\"./fi\": 123,\n\t\t\"./fi.js\": 123,\n\t\t\"./fo\": 124,\n\t\t\"./fo.js\": 124,\n\t\t\"./fr\": 127,\n\t\t\"./fr-ca\": 125,\n\t\t\"./fr-ca.js\": 125,\n\t\t\"./fr-ch\": 126,\n\t\t\"./fr-ch.js\": 126,\n\t\t\"./fr.js\": 127,\n\t\t\"./fy\": 128,\n\t\t\"./fy.js\": 128,\n\t\t\"./gd\": 129,\n\t\t\"./gd.js\": 129,\n\t\t\"./gl\": 130,\n\t\t\"./gl.js\": 130,\n\t\t\"./he\": 131,\n\t\t\"./he.js\": 131,\n\t\t\"./hi\": 132,\n\t\t\"./hi.js\": 132,\n\t\t\"./hr\": 133,\n\t\t\"./hr.js\": 133,\n\t\t\"./hu\": 134,\n\t\t\"./hu.js\": 134,\n\t\t\"./hy-am\": 135,\n\t\t\"./hy-am.js\": 135,\n\t\t\"./id\": 136,\n\t\t\"./id.js\": 136,\n\t\t\"./is\": 137,\n\t\t\"./is.js\": 137,\n\t\t\"./it\": 138,\n\t\t\"./it.js\": 138,\n\t\t\"./ja\": 139,\n\t\t\"./ja.js\": 139,\n\t\t\"./jv\": 140,\n\t\t\"./jv.js\": 140,\n\t\t\"./ka\": 141,\n\t\t\"./ka.js\": 141,\n\t\t\"./kk\": 142,\n\t\t\"./kk.js\": 142,\n\t\t\"./km\": 143,\n\t\t\"./km.js\": 143,\n\t\t\"./ko\": 144,\n\t\t\"./ko.js\": 144,\n\t\t\"./ky\": 145,\n\t\t\"./ky.js\": 145,\n\t\t\"./lb\": 146,\n\t\t\"./lb.js\": 146,\n\t\t\"./lo\": 147,\n\t\t\"./lo.js\": 147,\n\t\t\"./lt\": 148,\n\t\t\"./lt.js\": 148,\n\t\t\"./lv\": 149,\n\t\t\"./lv.js\": 149,\n\t\t\"./me\": 150,\n\t\t\"./me.js\": 150,\n\t\t\"./mi\": 151,\n\t\t\"./mi.js\": 151,\n\t\t\"./mk\": 152,\n\t\t\"./mk.js\": 152,\n\t\t\"./ml\": 153,\n\t\t\"./ml.js\": 153,\n\t\t\"./mr\": 154,\n\t\t\"./mr.js\": 154,\n\t\t\"./ms\": 156,\n\t\t\"./ms-my\": 155,\n\t\t\"./ms-my.js\": 155,\n\t\t\"./ms.js\": 156,\n\t\t\"./my\": 157,\n\t\t\"./my.js\": 157,\n\t\t\"./nb\": 158,\n\t\t\"./nb.js\": 158,\n\t\t\"./ne\": 159,\n\t\t\"./ne.js\": 159,\n\t\t\"./nl\": 161,\n\t\t\"./nl-be\": 160,\n\t\t\"./nl-be.js\": 160,\n\t\t\"./nl.js\": 161,\n\t\t\"./nn\": 162,\n\t\t\"./nn.js\": 162,\n\t\t\"./pa-in\": 163,\n\t\t\"./pa-in.js\": 163,\n\t\t\"./pl\": 164,\n\t\t\"./pl.js\": 164,\n\t\t\"./pt\": 166,\n\t\t\"./pt-br\": 165,\n\t\t\"./pt-br.js\": 165,\n\t\t\"./pt.js\": 166,\n\t\t\"./ro\": 167,\n\t\t\"./ro.js\": 167,\n\t\t\"./ru\": 168,\n\t\t\"./ru.js\": 168,\n\t\t\"./se\": 169,\n\t\t\"./se.js\": 169,\n\t\t\"./si\": 170,\n\t\t\"./si.js\": 170,\n\t\t\"./sk\": 171,\n\t\t\"./sk.js\": 171,\n\t\t\"./sl\": 172,\n\t\t\"./sl.js\": 172,\n\t\t\"./sq\": 173,\n\t\t\"./sq.js\": 173,\n\t\t\"./sr\": 175,\n\t\t\"./sr-cyrl\": 174,\n\t\t\"./sr-cyrl.js\": 174,\n\t\t\"./sr.js\": 175,\n\t\t\"./ss\": 176,\n\t\t\"./ss.js\": 176,\n\t\t\"./sv\": 177,\n\t\t\"./sv.js\": 177,\n\t\t\"./sw\": 178,\n\t\t\"./sw.js\": 178,\n\t\t\"./ta\": 179,\n\t\t\"./ta.js\": 179,\n\t\t\"./te\": 180,\n\t\t\"./te.js\": 180,\n\t\t\"./tet\": 181,\n\t\t\"./tet.js\": 181,\n\t\t\"./th\": 182,\n\t\t\"./th.js\": 182,\n\t\t\"./tl-ph\": 183,\n\t\t\"./tl-ph.js\": 183,\n\t\t\"./tlh\": 184,\n\t\t\"./tlh.js\": 184,\n\t\t\"./tr\": 185,\n\t\t\"./tr.js\": 185,\n\t\t\"./tzl\": 186,\n\t\t\"./tzl.js\": 186,\n\t\t\"./tzm\": 188,\n\t\t\"./tzm-latn\": 187,\n\t\t\"./tzm-latn.js\": 187,\n\t\t\"./tzm.js\": 188,\n\t\t\"./uk\": 189,\n\t\t\"./uk.js\": 189,\n\t\t\"./uz\": 190,\n\t\t\"./uz.js\": 190,\n\t\t\"./vi\": 191,\n\t\t\"./vi.js\": 191,\n\t\t\"./x-pseudo\": 192,\n\t\t\"./x-pseudo.js\": 192,\n\t\t\"./yo\": 193,\n\t\t\"./yo.js\": 193,\n\t\t\"./zh-cn\": 194,\n\t\t\"./zh-cn.js\": 194,\n\t\t\"./zh-hk\": 195,\n\t\t\"./zh-hk.js\": 195,\n\t\t\"./zh-tw\": 196,\n\t\t\"./zh-tw.js\": 196\n\t};\n\tfunction webpackContext(req) {\n\t\treturn __webpack_require__(webpackContextResolve(req));\n\t};\n\tfunction webpackContextResolve(req) {\n\t\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n\t};\n\twebpackContext.keys = function webpackContextKeys() {\n\t\treturn Object.keys(map);\n\t};\n\twebpackContext.resolve = webpackContextResolve;\n\tmodule.exports = webpackContext;\n\twebpackContext.id = 345;\n\n\n/***/ },\n\n/***/ 348:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZlcnNpb249IjEuMSIgIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgPHBhdGggZmlsbD0iIzAwMDAwMCIgZD0iTTcuNzEsMy41TDEuMTUsMTVMNC41OCwyMUwxMS4xMyw5LjVNOS43MywxNUw2LjMsMjFIMTkuNDJMMjIuODUsMTVNMjIuMjgsMTRMMTUuNDIsMkg4LjU4TDguNTcsMkwxNS40MywxNEgyMi4yOFoiIC8+Cjwvc3ZnPg==\"\n\n/***/ },\n\n/***/ 349:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(259)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(204)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(362)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 350:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(255)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(205)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(358)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-2bdb8575\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 351:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(260)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(206)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(363)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-e9cab642\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 352:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(261)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(207)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(364)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-ee3b5baa\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 353:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(258)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(208)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(361)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-bb7f86e6\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 354:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(254)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(209)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(357)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 355:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(256)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(210)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(359)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-36a1631e\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 356:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(257)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(211)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(360)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-5d0bd75d\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 357:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;\n\t  return _vm._h('header', {\n\t    staticClass: \"mdl-layout__header mdl-color--grey-100 mdl-color-text--grey-600\"\n\t  }, [_vm._h('div', {\n\t    staticClass: \"mdl-layout__header-row\"\n\t  }, [_vm._h('i', {\n\t    staticClass: \"material-icons\"\n\t  }, [\"insert_drive_file\"]), \" \", _vm._h('input', {\n\t    ref: \"filename\",\n\t    staticClass: \"filename\",\n\t    attrs: {\n\t      \"contenteditable\": \"true\"\n\t    },\n\t    domProps: {\n\t      \"value\": _vm.fileName\n\t    },\n\t    on: {\n\t      \"blur\": _vm.rename\n\t    }\n\t  }), \" \", _vm._h('span', {\n\t    staticClass: \"filestatus\"\n\t  }, [_vm._s(_vm.fileStatus) + \" \" + _vm._s(_vm.savedMoment)]), \" \", \" \", _vm._h('div', {\n\t    staticClass: \"mdl-layout-spacer\"\n\t  }), \" \", _vm._l((_vm.collaborators), function(collaborator) {\n\t    return _vm._h('collaborator', {\n\t      attrs: {\n\t        \"collaborator\": collaborator\n\t      }\n\t    })\n\t  }), \" \", \" \", _vm._h('nav', {\n\t    staticClass: \"mdl-navigation mdl-layout--large-screen-only\"\n\t  }, [_vm._h('mdl-button', {\n\t    nativeOn: {\n\t      \"click\": function($event) {\n\t        _vm.openShare()\n\t      }\n\t    }\n\t  }, [_vm._h('i', {\n\t    staticClass: \"material-icons\"\n\t  }, [\"share\"]), \" Share\"])])])])\n\t},staticRenderFns: []}\n\n/***/ },\n\n/***/ 358:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;\n\t  return _vm._h('div', {\n\t    style: ({\n\t      top: _vm.cursor.position.top + 'px',\n\t      left: _vm.cursor.position.left + 'px'\n\t    })\n\t  }, [_vm._h('mdl-tooltip', {\n\t    attrs: {\n\t      \"target\": 'carret' + _vm.cursor.sessionId\n\t    }\n\t  }, [\"\\n    \" + _vm._s(_vm.cursor.collaboratorName) + \"\\n  \"]), \" \", _vm._h('div', {\n\t    staticClass: \"carret\",\n\t    style: ({\n\t      backgroundColor: _vm.cursor.color\n\t    }),\n\t    attrs: {\n\t      \"id\": 'carret' + _vm.cursor.sessionId\n\t    }\n\t  })])\n\t},staticRenderFns: []}\n\n/***/ },\n\n/***/ 359:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;\n\t  return _vm._h('div', {\n\t    staticClass: \"demo-avatar-dropdown\"\n\t  }, [_vm._h('img', {\n\t    staticClass: \"avatar\",\n\t    attrs: {\n\t      \"src\": _vm.user.image\n\t    }\n\t  }), \" \", _vm._h('span', [_vm._s(_vm.user.email)]), \" \", _vm._m(0), \" \", _vm._m(1)])\n\t},staticRenderFns: [function (){var _vm=this;\n\t  return _vm._h('button', {\n\t    staticClass: \"mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon\",\n\t    attrs: {\n\t      \"id\": \"accbtn\"\n\t    }\n\t  }, [_vm._h('i', {\n\t    staticClass: \"material-icons\",\n\t    attrs: {\n\t      \"role\": \"presentation\"\n\t    }\n\t  }, [\"arrow_drop_down\"]), \" \", _vm._h('span', {\n\t    staticClass: \"visuallyhidden\"\n\t  }, [\"Accounts\"])])\n\t},function (){var _vm=this;\n\t  return _vm._h('ul', {\n\t    staticClass: \"mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect\",\n\t    attrs: {\n\t      \"for\": \"accbtn\"\n\t    }\n\t  }, [_vm._h('li', {\n\t    staticClass: \"mdl-menu__item\"\n\t  }, [\"logout\"])])\n\t}]}\n\n/***/ },\n\n/***/ 360:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;\n\t  return _vm._h('div', {\n\t    staticClass: \"mdl-layout__drawer\"\n\t  }, [_vm._h('span', {\n\t    staticClass: \"mdl-layout-title\"\n\t  }), \" \", _vm._h('nav', {\n\t    staticClass: \"mdl-navigation\"\n\t  }, [_vm._h('a', {\n\t    staticClass: \"mdl-navigation__link\",\n\t    attrs: {\n\t      \"id\": \"new-file-button\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.newFile()\n\t      }\n\t    }\n\t  }, [_vm._h('i', {\n\t    staticClass: \"material-icons\"\n\t  }, [\"insert_drive_file\"]), \" New file\\n        \"]), \" \", _vm._h('a', {\n\t    staticClass: \"mdl-navigation__link\",\n\t    attrs: {\n\t      \"id\": \"open-file-button\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.openFile()\n\t      }\n\t    }\n\t  }, [_vm._h('i', {\n\t    staticClass: \"material-icons\"\n\t  }, [\"folder_open\"]), \" Open...\\n        \"]), \" \", _vm._h('a', {\n\t    staticClass: \"mdl-navigation__link\",\n\t    attrs: {\n\t      \"id\": \"share-button\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.openShare()\n\t      }\n\t    }\n\t  }, [_vm._h('i', {\n\t    staticClass: \"material-icons\"\n\t  }, [\"share\"]), \" Share...\\n        \"])])])\n\t},staticRenderFns: []}\n\n/***/ },\n\n/***/ 361:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;\n\t  return _vm._h('div', [_vm._h('mdl-tooltip', {\n\t    attrs: {\n\t      \"target\": _vm.collaborator.sessionId\n\t    }\n\t  }, [\"\\n    \" + _vm._s(_vm.collaborator.displayName) + \"\\n    \" + _vm._s(_vm.collaborator.isMe ? \"(me)\" : \"\")]), \" \", _vm._h('img', {\n\t    staticClass: \"avatar\",\n\t    style: ({\n\t      borderColor: _vm.collaborator.color\n\t    }),\n\t    attrs: {\n\t      \"id\": _vm.collaborator.sessionId,\n\t      \"src\": _vm.collaborator.photoUrl\n\t    }\n\t  })])\n\t},staticRenderFns: []}\n\n/***/ },\n\n/***/ 362:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;\n\t  return _vm._h('div', {\n\t    attrs: {\n\t      \"id\": \"app\"\n\t    }\n\t  }, [_vm._h('div', {\n\t    staticClass: \"mdl-layout mdl-js-layout mdl-layout--fixed-header\"\n\t  }, [_vm._h('page-header'), \" \", _vm._h('side-menu'), \" \", _vm._h('main', {\n\t    staticClass: \"mdl-layout__content mdl-color--grey-100\"\n\t  }, [_vm._h('div', {\n\t    staticClass: \"page-content\"\n\t  }, [_vm._h('div', {\n\t    staticClass: \"mdl-grid\"\n\t  }, [_vm._h('div', {\n\t    staticClass: \"mdl-cell mdl-cell--8-col mdl-cell--2-offset-desktop\",\n\t    attrs: {\n\t      \"id\": \"text-view\"\n\t    }\n\t  }, [_vm._h('text-view')])]), \" \", _vm._h('mdl-dialog', {\n\t    ref: \"login\",\n\t    attrs: {\n\t      \"full-width\": \"\",\n\t      \"title\": \"Hi there\"\n\t    }\n\t  }, [_vm._h('p', [\"Please log in with your Google Drive account\"]), \" \", _vm._h('template', {\n\t    slot: \"actions\"\n\t  }, [_vm._h('mdl-button', {\n\t    attrs: {\n\t      \"primary\": \"\"\n\t    },\n\t    nativeOn: {\n\t      \"click\": function($event) {\n\t        _vm.handleAuthClick($event)\n\t      }\n\t    }\n\t  }, [\"Login\"])])]), \" \", _vm._h('mdl-dialog', {\n\t    ref: \"errorMessage\",\n\t    attrs: {\n\t      \"title\": \":(\"\n\t    },\n\t    on: {\n\t      \"close\": _vm.closeErrorMessageCallback\n\t    }\n\t  }, [_vm._h('p', [_vm._s(_vm.errorMessage)])]), \" \", _vm._h('pre', {\n\t    attrs: {\n\t      \"id\": \"output\"\n\t    }\n\t  })])]), \" \", _vm._h('create-new-file-dialog', {\n\t    ref: \"create_new_file\"\n\t  })])])\n\t},staticRenderFns: []}\n\n/***/ },\n\n/***/ 363:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;\n\t  return _vm._h('mdl-dialog', {\n\t    ref: \"create_new_file\",\n\t    attrs: {\n\t      \"full-width\": \"\",\n\t      \"title\": \"Create new file\"\n\t    }\n\t  }, [_vm._h('mdl-textfield', {\n\t    attrs: {\n\t      \"floating-label\": \"File name\",\n\t      \"value\": _vm.filename,\n\t      \"id\": \"create-filename-input\"\n\t    }\n\t  }), \" \", _vm._h('template', {\n\t    slot: \"actions\"\n\t  }, [_vm._h('mdl-button', {\n\t    attrs: {\n\t      \"primary\": \"\",\n\t      \"id\": \"create-new-file-button\"\n\t    },\n\t    nativeOn: {\n\t      \"click\": function($event) {\n\t        _vm.createNew()\n\t      }\n\t    }\n\t  }, [\"Create\"]), \" \", _vm._h('mdl-button', {\n\t    attrs: {\n\t      \"id\": \"open-from-gdrive-button\"\n\t    },\n\t    nativeOn: {\n\t      \"click\": function($event) {\n\t        _vm.openFromGDrive()\n\t      }\n\t    }\n\t  }, [\"... or open from Google Drive \", _vm._h('img', {\n\t    attrs: {\n\t      \"src\": _vm.gdriveSvg\n\t    }\n\t  })])])])\n\t},staticRenderFns: []}\n\n/***/ },\n\n/***/ 364:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;\n\t  return _vm._h('div', {\n\t    staticClass: \"textarea-container\"\n\t  }, [_vm._h('textarea', {\n\t    domProps: {\n\t      \"value\": _vm.fileContent\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        _vm.inputContent($event)\n\t      },\n\t      \"keyup\": function($event) {\n\t        _vm.carretMoved($event)\n\t      },\n\t      \"click\": function($event) {\n\t        _vm.carretMoved($event)\n\t      }\n\t    }\n\t  }), \" \", _vm._l((_vm.cursors), function(cursor) {\n\t    return _vm._h('collaborator-cursor', {\n\t      attrs: {\n\t        \"cursor\": cursor\n\t      }\n\t    })\n\t  })])\n\t},staticRenderFns: []}\n\n/***/ },\n\n/***/ 366:\n/***/ function(module, exports) {\n\n\t/* (ignored) */\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/app.c5b157cf3e2b1d54b854.js","import Vue from 'vue'\nimport App from './App'\nimport VueMdl from 'vue-mdl'\n\nimport store from './store'\n\n// import mdl stuff\nimport 'material-design-lite'\nimport 'material-design-lite/material.min.css'\nimport 'assets/material.cyan-amber.min.css'\n// import 'mdi/css/materialdesignicons.css'\n\nrequire('es6-promise').polyfill()\n\nVue.use(VueMdl)\n\n/* eslint-disable no-new */\n\nnew Vue({\n  store,\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","export { file } from './file'\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/index.js","import MultiPartBuilder from './multipart'\n\nclass GApiIntegration {\n\n/* global gapi, google */\n\n  constructor () {\n    this.CLIENT_ID = process.env.CLIENT_ID\n    this.SCOPES = ['email', 'profile', 'https://www.googleapis.com/auth/drive',\n      'https://www.googleapis.com/auth/drive.install',\n      'https://www.googleapis.com/auth/plus.login']\n\n    this.DEFAULT_FIELDS = 'capabilities(canCopy,canEdit),createdTime,fileExtension,id,mimeType,modifiedTime,name,shared,size,version'\n  }\n\n  loadDriveApis () {\n    return new Promise(\n      (resolve, reject) => {\n        (function waitForApi () {\n          console.info('loadDriveApi...')\n          if (gapi && gapi.client) {\n            Promise.all([\n              gapi.client.load('drive', 'v3'),\n              gapi.client.load('plus', 'v1'),\n              gapi.load('picker'),\n              gapi.load('drive-share'),\n              gapi.load('drive-realtime')])\n              .then(() => {\n                console.info('gapi.client.load finished!')\n                resolve()\n              })\n          } else {\n            setTimeout(() => waitForApi(), 100)\n            console.info('wait for it...')\n          }\n        })()\n      }\n    )\n  }\n\n  /**\n   * Makes the gapi authorization process\n   */\n  authorize (immediate = true, user = null) {\n    console.info('authorize')\n    return new Promise(\n      (resolve, reject) => {\n        gapi.auth.authorize(\n          this.buildAuthRequest(immediate, user),\n          (authResult) => {\n            console.info('RESULT!!!!!!!!')\n            if (authResult && !authResult.error) {\n              console.info('resolved!')\n              resolve()\n            } else {\n              console.info('rejected!')\n              reject()\n            }\n          }\n        )\n      }\n    )\n  }\n\n  /**\n   * Builds a request object suitable for gapi.auth.authorize calls.\n   *\n   * @param {Boolean} immediateMode True if auth should be checked silently\n   * @param {String} user Optional login hint indiciating which account should be authorized\n   * @return {Promise} promise that resolves on completion of the login\n   */\n  buildAuthRequest (immediateMode, user) {\n    var request = {\n      client_id: this.CLIENT_ID,\n      scope: this.SCOPES.join(' '),\n      immediate: immediateMode\n    }\n    if (user) {\n      request.login_hint = user\n      request.authuser = -1\n    }\n    return request\n  }\n\n  getUserProfile () {\n    return gapi.client.plus.people.get({\n      'userId': 'me'\n    })\n  }\n\n  saveFile (file, filename) {\n    var path\n    var method\n\n    if (file.metadata.id) {\n      path = '/upload/drive/v3/files/' + encodeURIComponent(file.metadata.id)\n      method = 'PATCH'\n    } else {\n      path = '/upload/drive/v3/files'\n      method = 'POST'\n    }\n\n    const metadata = { mimeType: file.metadata.mimeType, name: (filename || file.metadata.name) }\n\n    const multipart = new MultiPartBuilder()\n        .append('application/json', JSON.stringify(metadata))\n        .append(file.metadata.mimeType, file.content)\n        .finish()\n\n    return gapi.client.request({\n      path: path,\n      method: method,\n      params: {\n        uploadType: 'multipart',\n        fields: this.DEFAULT_FIELDS\n      },\n      headers: { 'Content-Type': multipart.type },\n      body: multipart.body\n    })\n  }\n\n  /**\n   * Combines metadata & content into a single object & caches the result\n   *\n   * @param {Object} metadata File metadata\n   * @param {String} content File content\n   * @return {Object} combined object\n   */\n  combineAndStoreResults (metadata, content) {\n    var file = {\n      metadata: metadata,\n      content: content\n    }\n    return file\n  };\n\n  /**\n   * Load a file from Drive. Fetches both the metadata & content in parallel.\n   *\n   * @param {String} fileID ID of the file to load\n   * @return {Promise} promise that resolves to an object containing the file metadata & content\n   */\n  loadFile (fileId) {\n    return new Promise(\n      (resolve, reject) => {\n        var metadataRequest = gapi.client.drive.files.get({\n          fileId: fileId,\n          fields: this.DEFAULT_FIELDS\n        })\n        var contentRequest = gapi.client.drive.files.get({\n          fileId: fileId,\n          alt: 'media'\n        })\n\n        resolve(Promise.all([metadataRequest, contentRequest]))\n      }).then((responses) => {\n        return {metadata: responses[0].result, content: responses[1].body}\n      })\n  };\n\n  loadRtDoc (file, contentEventHandler, filenameEventHandler, collaboratorEventHandler, cursorsMapEventHandler) {\n    var that = this\n    return new Promise(\n      (resolve, reject) => {\n        gapi.drive.realtime.load(file.metadata.id,\n          (doc) => {\n            console.log('loaded realtime doc', doc)\n            // Get the field named \"text\" in the root map.\n            that.contentText = doc.getModel().getRoot().get('content')\n            that.contentText.addEventListener(gapi.drive.realtime.EventType.TEXT_INSERTED, contentEventHandler)\n            that.contentText.addEventListener(gapi.drive.realtime.EventType.TEXT_DELETED, contentEventHandler)\n\n            that.filenameText = doc.getModel().getRoot().get('filename')\n            that.filenameText.addEventListener(gapi.drive.realtime.EventType.TEXT_INSERTED, filenameEventHandler)\n            that.filenameText.addEventListener(gapi.drive.realtime.EventType.TEXT_DELETED, filenameEventHandler)\n\n            // collaborators\n            doc.addEventListener(gapi.drive.realtime.EventType.COLLABORATOR_JOINED, collaboratorEventHandler)\n            doc.addEventListener(gapi.drive.realtime.EventType.COLLABORATOR_LEFT, collaboratorEventHandler)\n            collaboratorEventHandler({target: doc, type: 'init_collaborators'})\n\n            // cursors map\n            that.cursorsMap = doc.getModel().getRoot().get('cursors')\n            that.cursorsMap.addEventListener(gapi.drive.realtime.EventType.VALUE_CHANGED, cursorsMapEventHandler)\n\n            resolve(doc.getModel())\n          },\n          (model) => {\n            console.log('initializing model', model)\n\n            var contentString = model.createString(file.content)\n            model.getRoot().set('content', contentString)\n\n            var filenameString = model.createString(file.content)\n            model.getRoot().set('filename', filenameString)\n\n            that.cursorsMap = model.createMap()\n            model.getRoot().set('cursors', that.cursorsMap)\n          },\n          (error) => {\n            console.log('failed realtime load', error)\n            if (error.type === window.gapi.drive.realtime.ErrorType.TOKEN_REFRESH_REQUIRED) {\n              this.authorize(true)\n                .then(() => {\n                  this.loadRtDoc(file, contentEventHandler, filenameEventHandler, collaboratorEventHandler, cursorsMapEventHandler)\n                })\n                .catch(() => {\n                  reject('Could not authorize')\n                })\n            } else if (error.type === window.gapi.drive.realtime.ErrorType.CLIENT_ERROR) {\n              reject('An Error happened: ' + error.message)\n            } else if (error.type === window.gapi.drive.realtime.ErrorType.NOT_FOUND) {\n              reject('The file does not exist or you do not have permissions to access it.')\n            } else if (error.type === window.gapi.drive.realtime.ErrorType.FORBIDDEN) {\n              reject('You do not have access to this file. Try having the owner share it with you from Google Drive.')\n              window.location.href = '/'\n            }\n          })\n      })\n  }\n\n  /**\n   * Displays the Drive file picker configured for selecting text files\n   *\n   * @return {Promise} Promise that resolves with the ID of the selected file\n   */\n  showPicker () {\n    return new Promise(\n      (resolve, reject) => {\n        var view = new google.picker.DocsView(google.picker.ViewId.DOCS)\n        view.setMimeTypes(process.env.DEFAULT_MIMETYPE)\n        view.setSelectFolderEnabled(true)\n        view.setIncludeFolders(true)\n        var picker = new google.picker.PickerBuilder()\n          .setAppId(process.env.APPLICATION_ID)\n          .setOAuthToken(gapi.auth.getToken().access_token)\n          .addView(view)\n          .setCallback(function (data) {\n            if (data.action === 'picked') {\n              var id = data.docs[0].id\n              resolve(id)\n            } else if (data.action === 'cancel') {\n              reject('cancel')\n            }\n          })\n          .build()\n        picker.setVisible(true)\n      })\n  };\n\n  /**\n   * Displays the Drive sharing dialog\n   *\n   * @param {String} id ID of the file to share\n   */\n  showSharing (id) {\n    var share = new gapi.drive.share.ShareClient(process.env.APPLICATION_ID)\n    share.setOAuthToken(gapi.auth.getToken().access_token)\n    share.setItemIds([id])\n    share.showSettingsDialog()\n  };\n}\n\nexport default new GApiIntegration()\n\n\n\n// WEBPACK FOOTER //\n// ./src/gapi/gapi-integration.js","// file mutations\nexport const NEW_FILE = 'NEW_FILE'\nexport const FILE_SAVED = 'FILE_SAVED'\nexport const FILE_SAVING = 'FILE_SAVING'\nexport const FILE_NOT_SAVED = 'FILE_NOT_SAVED'\n\nexport const EDIT_CONTENT = 'EDIT_CONTENT'\nexport const INSERT_CONTENT = 'INSERT_CONTENT'\nexport const DELETE_CONTENT = 'DELETE_CONTENT'\nexport const RENAME_FILE = 'RENAME_FILE'\nexport const LOAD_FILE = 'LOAD_FILE'\n\n// collaborator mutations\nexport const SET_COLLABORATORS = 'SET_COLLABORATORS'\nexport const SET_CURSORS = 'SET_CURSORS'\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutation-types.js","// vuex/store.js\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport file from './modules/file'\nimport collaborators from './modules/collaborators'\nimport * as actions from './actions'\n\nVue.use(Vuex)\nconsole.log('Using Vuex')\n\nconst debug = process.env.NODE_ENV !== 'production'\n\nexport default new Vuex.Store({\n  actions,\n  // combine sub modules\n  modules: {\n    file,\n    collaborators\n  },\n  strict: debug\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import _ from 'lodash'\nimport {\n  NEW_FILE,\n  FILE_SAVED,\n  FILE_SAVING,\n  FILE_NOT_SAVED,\n  FILE_DIRTY,\n  EDIT_CONTENT,\n  INSERT_CONTENT,\n  DELETE_CONTENT,\n  RENAME_FILE,\n  LOAD_FILE\n} from '../mutation-types'\n\nexport const STATUS_LIST = {\n  INITIAL: 'INTIAL',\n  SAVING: 'SAVING',\n  SAVED: 'SAVED',\n  NOT_SAVED: 'NOT_SAVED',\n  DIRTY: 'DIRTY'\n}\n\nconst state = {\n  metadata: {\n    name: 'New document',\n    id: 'no-id'\n  },\n  content: '',\n  status: STATUS_LIST.INITIAL\n}\n\nconst mutations = {\n  [NEW_FILE] (state, name) {\n    state.metadata = {\n      id: null,\n      mimeType: process.env.DEFAULT_MIMETYPE,\n      name: name\n    }\n    state.content = ''\n  },\n\n  [FILE_SAVED] (state, metadata) {\n    _.assign(state.metadata, metadata)\n    state.status = STATUS_LIST.SAVED\n  },\n\n  [FILE_NOT_SAVED] (state) {\n    state.status = STATUS_LIST.NOT_SAVED\n  },\n\n  [FILE_SAVING] (state) {\n    state.status = STATUS_LIST.SAVING\n  },\n\n  [FILE_DIRTY] (state) {\n    state.status = STATUS_LIST.DIRTY\n  },\n\n  [EDIT_CONTENT] (state, content) {\n    state.content = content\n  },\n\n  [INSERT_CONTENT] (state, {index, text}) {\n    const content = state.content\n    state.content = content.slice(0, index) + text + content.slice(index)\n  },\n\n  [DELETE_CONTENT] (state, { index, text }) {\n    const content = state.content\n    state.content = content.slice(0, index) + content.slice(index + text.length)\n  },\n\n  [RENAME_FILE] (state, filename) {\n    state.metadata.name = filename\n  },\n\n  [LOAD_FILE] (state, file) {\n    state.metadata = file.metadata\n    state.content = file.content\n    state.status = state.status = STATUS_LIST.SAVED\n  }\n}\n\nexport default {\n  state,\n  mutations\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/file.js","export default {\n  state: {\n    name: '',\n    image: '',\n    email: ''\n  },\n\n  setUser: function (user) {\n    this.state.name = user.name\n    this.state.image = user.image\n    this.state.email = user.email\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/stores/user.js","/**\n * Helper for building multipart requests for uploading to Drive.\n */\nexport default class {\n\n  constructor () {\n    this.boundary = Math.random().toString(36).slice(2)\n    this.mimeType = 'multipart/mixed; boundary=\"' + this.boundary + '\"'\n    this.parts = []\n    this.body = null\n  }\n\n  /**\n   * Appends a part.\n   *\n   * @param {String} mimeType Content type of this part\n   * @param {Blob|File|String} content Body of this part\n   */\n  append (mimeType, content) {\n    if (this.body !== null) {\n      throw new Error('Builder has already been finalized.')\n    }\n    this.parts.push(\n      '\\r\\n--', this.boundary, '\\r\\n',\n      'Content-Type: ', mimeType, '\\r\\n\\r\\n',\n      content)\n    return this\n  }\n\n  /**\n   * Finalizes building of the multipart request and returns a Blob containing\n   * the request. Once finalized, appending additional parts will result in an\n   * error.\n   *\n   * @returns {Object} Object containing the mime type (mimeType) & assembled multipart body (body)\n   */\n  finish () {\n    if (this.parts.length === 0) {\n      throw new Error('No parts have been added.')\n    }\n    if (this.body === null) {\n      this.parts.push('\\r\\n--', this.boundary, '--')\n      this.body = this.parts.join('')\n      // TODO - switch to blob once gapi.client.request allows it\n      // this.body = new Blob(this.parts, {type: this.mimeType});\n    }\n    return {\n      type: this.mimeType,\n      body: this.body\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/gapi/multipart.js","import GapiIntegration from 'src/gapi/gapi-integration'\nimport store from 'src/store'\nimport _get from 'lodash/get'\nimport _find from 'lodash/find'\n\n/* global gapi */\n\nexport const file = {\n  model: null,\n\n  /**\n   * Creates a new file\n   * @param  {string} filename\n   * @return {Promise}\n   */\n  createNewFile (filename) {\n    return new Promise(\n      (resolve, reject) => {\n        store.dispatch('createNewFile', filename)\n          .then((file) => {\n            GapiIntegration.loadRtDoc(file,\n              this.contentEventHandler,\n              this.filenameEventHandler,\n              this.collaboratorEventHandler,\n              this.cursorsMapEventHandler.bind(this))\n              .then(() => {\n                resolve(file)\n              })\n              .catch(() => {\n                reject('rt file not loaded')\n              })\n          })\n          .catch(() => reject('not loaded'))\n      })\n  },\n\n  /**\n   * Opens a file from GDrive\n   * @return {Promise}\n   */\n  openFromGDrive () {\n    return new Promise(\n      (resolve, reject) => {\n        GapiIntegration.showPicker()\n          .then((id) => {\n            if (id !== _get(store, 'state.file.metadata.id')) {\n              this.loadFromGDrive(id)\n                .then(() => resolve())\n                .then((error) => reject(error))\n            }\n          })\n          .catch(() => {\n            reject('not picked')\n          })\n      })\n  },\n\n  /**\n   * Loads a file from gdrive\n   * @param  {string} id GDrive file id.\n   * @return {Promise}\n   */\n  loadFromGDrive (id) {\n    return new Promise(\n      (resolve, reject) => {\n        GapiIntegration.loadFile(id)\n          .then(file => {\n            store.dispatch('loadFile', file)\n            return file\n          })\n          .then((file) => {\n            GapiIntegration.loadRtDoc(file,\n              this.contentEventHandler,\n              this.filenameEventHandler,\n              this.collaboratorEventHandler,\n              this.cursorsMapEventHandler.bind(this))\n              .then(() => {\n                store.dispatch('updateContent', GapiIntegration.contentText.getText())\n                resolve(file)\n              })\n              .catch((error) => {\n                reject(error)\n              })\n          })\n          .catch((error) => {\n            console.error(error)\n            reject(error.result.error.message)\n          })\n      })\n  },\n\n  contentEventHandler (evt) {\n    // Log the event to the console.\n    console.log('contentEventHandler')\n    store.dispatch('updateContent', GapiIntegration.contentText.getText())\n  },\n\n  filenameEventHandler (evt) {\n    // Log the event to the console.\n    // console.log(evt)\n    console.log('filenameEventHandler: ' + GapiIntegration.filenameText.getText())\n    store.dispatch('updateFilename', GapiIntegration.filenameText.getText())\n  },\n\n  collaboratorEventHandler (evt) {\n    // Log the event to the console.\n    console.log('---------------- collaboratorEventHandler: ' + (evt ? evt.type : 'none'))\n    console.log(evt.target.getCollaborators().length + 'COLLABORATORS')\n    evt.target.getCollaborators().forEach((collaborator) => {\n      console.log('User ID:' + collaborator.userId)\n      console.log('Session ID:' + collaborator.sessionId)\n      console.log('Name:' + collaborator.displayName)\n      console.log('Color:' + collaborator.color)\n      console.log('IS_ME: ' + collaborator.isMe)\n    })\n\n    store.dispatch('setCollaborators', evt.target.getCollaborators())\n  },\n\n  moveCursor (pos) {\n    this.getMyRegisteredReference(pos).index = pos\n  },\n\n  cursorsMapEventHandler (evt) {\n    store.dispatch('setCursors', this.getCursors())\n  },\n\n  getCursors () {\n    const cursorsMap = this.garbageCollectCursors()\n    const keys = cursorsMap.keys()\n    let cursors = {}\n    for (let i = 0; i < keys.length; i++) {\n      cursors[keys[i]] = cursorsMap.get(keys[i]).index\n    }\n\n    return cursors\n  },\n\n  garbageCollectCursors: function () {\n    const cursorsMap = GapiIntegration.cursorsMap\n    const keys = cursorsMap.keys()\n    for (let i = 0; i < keys.length; i++) {\n      //\n      if (!this.getCollaborator(keys[i])) {\n        cursorsMap.delete(keys[i])\n      } else {\n        cursorsMap.get(keys[i]).removeAllEventListeners()\n        cursorsMap.get(keys[i]).addEventListener(\n          gapi.drive.realtime.EventType.REFERENCE_SHIFTED,\n          this.onReferenceShifted.bind(this))\n      }\n    }\n\n    return cursorsMap\n  },\n\n  getCollaborator: function (sessionId) {\n    const collaborators = _get(store, 'state.collaborators.users')\n    if (!collaborators) {\n      return null\n    }\n    return _find(collaborators, {'sessionId': sessionId})\n  },\n\n  getMyCollaborator: function () {\n    const collaborators = _get(store, 'state.collaborators.users')\n    if (!collaborators) {\n      return null\n    }\n    return _find(collaborators, {'isMe': true})\n  },\n\n  getMyRegisteredReference: function (pos) {\n    const cursorsMap = GapiIntegration.cursorsMap\n    if (!cursorsMap) {\n      return null\n    }\n\n    // if there is no registered reference, create it\n    const myRegisteredReference = cursorsMap.get(this.getMyCollaborator().sessionId)\n    if (myRegisteredReference) {\n      return myRegisteredReference\n    }\n    let myNewRegisteredReference = GapiIntegration.contentText.registerReference(pos, true)\n    myNewRegisteredReference.addEventListener(gapi.drive.realtime.EventType.REFERENCE_SHIFTED, this.onReferenceShifted.bind(this))\n    GapiIntegration.cursorsMap.set(this.getMyCollaborator().sessionId, myNewRegisteredReference)\n    return myNewRegisteredReference\n  },\n\n  onReferenceShifted: function () {\n    store.dispatch('setCursors', this.getCursors())\n  },\n\n  /**\n   * Opens GDrive share screen\n   * @param  {string} id GDrive file id.\n   */\n  share () {\n    return GapiIntegration.showSharing(_get(store, 'state.file.metadata.id'))\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/file.js","import GapiIntegration from '../gapi/gapi-integration'\nimport * as types from './mutation-types'\nimport _ from 'lodash'\nimport qs from 'querystringify'\n\nexport const createNewFile = ({commit, state}, filename) => {\n  console.log('Creating new file')\n  commit(types.NEW_FILE, filename)\n\n  return new Promise((resolve, reject) => {\n    GapiIntegration.saveFile(state.file, filename)\n      .then(\n        (result) => commit(types.FILE_SAVED, result.result),\n        (reason) => commit(types.FILE_NOT_SAVED))\n      .then(() => { updateWindowUrl(state.file.metadata) })\n      .then(() => { resolve(state.file) })\n  })\n}\n\nexport const saveFile = ({commit, state}) => {\n  console.log('Saving new file')\n  commit(types.FILE_SAVING)\n\n  return new Promise((resolve, reject) => {\n    GapiIntegration.saveFile(state.file)\n    .then(\n      (result) => {\n        commit(types.FILE_SAVED, result.result)\n        resolve()\n      },\n      (reason) => {\n        commit(types.FILE_NOT_SAVED)\n        reject(reason)\n      }\n    )\n  })\n}\n\nlet debounceSave = _.debounce(saveFile, 2000)\n\nexport const editContent = ({commit, state}, value) => {\n  // console.log('Editing file content: ' + value)\n  // commit(types.EDIT_CONTENT, value)\n  GapiIntegration.contentText.setText(value)\n  // save file / sync with google realtime api\n  debounceSave({commit, state})\n  commit(types.FILE_DIRTY)\n}\n\nexport const updateContent = ({commit, state}, text) => {\n  // console.log('Updating realtime file content: ', text)\n  commit(types.EDIT_CONTENT, text)\n  // if (type === 'text_inserted') {\n  //   commit(types.INSERT_CONTENT, { index, text })\n  // } else if (type === 'text_deleted') {\n  //   commit(types.DELETE_CONTENT, { index, text })\n  // }\n}\n\nexport const renameFile = ({commit, state}, filename) => {\n  console.log('renaming file')\n  GapiIntegration.filenameText.setText(filename)\n\n  // save file / sync with google realtime api\n  debounceSave({commit, state})\n  commit(types.FILE_DIRTY)\n}\n\nexport const updateFilename = ({commit, state}, filename) => {\n  commit(types.RENAME_FILE, filename)\n}\n\nexport const loadFile = ({commit, state}, file) => {\n  commit(types.LOAD_FILE, file)\n  updateWindowUrl(state.file.metadata)\n}\n\nexport const setCollaborators = ({commit, state}, collaborators) => {\n  commit(types.SET_COLLABORATORS, collaborators)\n}\n\nexport const setCursors = ({commit, state}, cursors) => {\n  commit(types.SET_CURSORS, cursors)\n}\n\nfunction updateWindowUrl (fileMetadata) {\n  let queryVars = qs.parse(window.location.search)\n  queryVars.file = fileMetadata.id\n  window.history.pushState({}, fileMetadata.name, (window.location.pathname || '') + qs.stringify(queryVars, true))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","import {\n  SET_COLLABORATORS,\n  SET_CURSORS\n} from '../mutation-types'\n\nconst state = {\n  users: []\n}\n\nconst mutations = {\n  [SET_COLLABORATORS] (state, collaborators) {\n    state.users = collaborators\n  },\n\n  [SET_CURSORS] (state, cursors) {\n    state.users = state.users.reduce((users, user) => {\n      if (cursors[user.sessionId]) {\n        user = { ...user, cursor: cursors[user.sessionId] }\n      }\n\n      users.push(user)\n      return users\n    }, [])\n  }\n}\n\nexport default {\n  state,\n  mutations\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/collaborators.js","<template>\n<div id=\"app\">\n  <div class=\"mdl-layout mdl-js-layout mdl-layout--fixed-header\">\n    <page-header></page-header>\n    <side-menu></side-menu>\n    <main class=\"mdl-layout__content mdl-color--grey-100\">\n      <div class=\"page-content\">\n\n        <div class=\"mdl-grid\">\n          <div class=\"mdl-cell mdl-cell--8-col mdl-cell--2-offset-desktop\" id=\"text-view\">\n            <text-view></text-view>\n          </div>\n        </div>\n\n        <mdl-dialog ref=\"login\" full-width title=\"Hi there\">\n          <p>Please log in with your Google Drive account</p>\n          <template slot=\"actions\">\n            <mdl-button primary @click.native=\"handleAuthClick\">Login</mdl-button>\n          </template>\n        </mdl-dialog>\n        <mdl-dialog @close=\"closeErrorMessageCallback\" ref=\"errorMessage\" title=\":(\">\n          <p>{{ errorMessage }}</p>\n        </mdl-dialog>\n        <pre id=\"output\"></pre>\n      </div>\n    </main>\n    <create-new-file-dialog ref=\"create_new_file\"></create-new-file-dialog>\n  </div>\n</div>\n</template>\n\n<script>\nimport qs from 'querystringify'\nimport PageHeader from './components/menu/PageHeader'\nimport SideMenu from './components/menu/SideMenu'\nimport CreateNewFileDialog from './components/CreateNewFileDialog'\nimport TextView from './components/TextView'\nimport ProfileMenu from './components/menu/ProfileMenu'\nimport GapiIntegration from './gapi/gapi-integration'\nimport user from './stores/user'\nimport { file } from 'src/services'\n\nexport default {\n  components: {\n    PageHeader,\n    TextView,\n    ProfileMenu,\n    SideMenu,\n    'create-new-file-dialog': CreateNewFileDialog\n  },\n  data: function () {\n    return {\n      user: null,\n      file: null,\n      errorMessage: ''\n    }\n  },\n  mounted: function () {\n    let queryVars = qs.parse(window.location.search)\n    this.user = queryVars.user\n    this.file = queryVars.file\n\n    GapiIntegration.loadDriveApis()\n      .then(() => {\n        console.log('starting authorize')\n        GapiIntegration.authorize(true, this.user)\n          .then(() => {\n            this.loadUserData()\n            this.loadThisFile()\n          })\n          .catch((reason) => {\n            console.log('error inload or authorize')\n            this.$refs.login.open()\n          })\n      })\n  },\n  methods: {\n    handleAuthClick () {\n      this.$refs.login.close()\n      GapiIntegration.authorize(false, this.user)\n        .then(() => {\n          this.loadUserData()\n          this.loadThisFile()\n        })\n    },\n\n    loadUserData () {\n      console.log('load userData')\n      GapiIntegration.getUserProfile().then((resp) => {\n        console.log(resp)\n        user.setUser({\n          name: resp.result.displayName,\n          image: resp.result.image.url,\n          email: resp.result.emails[0].value\n        })\n      })\n    },\n\n    loadThisFile () {\n      console.log('load file')\n      // if no file id in URL, open create dialog\n      if (this.file) {\n        file.loadFromGDrive(this.file)\n          .catch((error) => {\n            this.errorMessage = error\n            this.$refs.errorMessage.open()\n          })\n      } else {\n        this.openCreateNewFile()\n      }\n    },\n\n    openCreateNewFile () {\n      this.$refs.create_new_file.openDialog()\n    },\n\n    closeErrorMessageCallback () {\n      window.location('/')\n    }\n  }\n}\n</script>\n\n<style>\n\nmain,\nmain div.page-content,\nmain div.page-content div.mdl-grid {\n  height: 100%;\n  box-sizing: border-box;\n}\n\n</style>\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// App.vue?56c8635d","<template>\n  <div :style=\"{top: cursor.position.top + 'px', left: cursor.position.left +'px'}\">\n    <mdl-tooltip :target=\"'carret'+cursor.sessionId\">\n      {{ cursor.collaboratorName }}\n    </mdl-tooltip>\n    <div class=\"carret\" :id=\"'carret'+cursor.sessionId\" :style=\"{backgroundColor: cursor.color}\">\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    props: ['cursor']\n  }\n</script>\n\n<style scoped>\n  .carret {\n    position: absolute;\n    width: 2px;\n    height: 20px;\n    margin-top: -2px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// CollaboratorCursor.vue?5a434e52","<template>\n    <mdl-dialog ref=\"create_new_file\" full-width title=\"Create new file\">\n    <mdl-textfield floating-label=\"File name\" :value=\"filename\" id=\"create-filename-input\"></mdl-textfield>\n    <template slot=\"actions\">\n      <mdl-button primary @click.native=\"createNew()\" id='create-new-file-button'>Create</mdl-button>\n      <mdl-button @click.native=\"openFromGDrive()\" id='open-from-gdrive-button'>... or open from Google Drive <img v-bind:src=\"gdriveSvg\" /></mdl-button>\n    </template>\n  </mdl-dialog>\n</template>\n\n<script>\nimport gdriveSvg from 'src/assets/google-drive.svg'\nimport { file } from 'src/services'\n\nexport default {\n  data () {\n    return {\n      filename: 'New document',\n      gdriveSvg\n    }\n  },\n  methods: {\n    openDialog () {\n      this.filename = 'New document'\n      this.$refs.create_new_file.open()\n    },\n    createNew () {\n      this.$refs.create_new_file.close()\n      file.createNewFile(this.$el.querySelector('#create-filename-input').value)\n    },\n    openFromGDrive () {\n      file.openFromGDrive()\n        .then(() => { this.$refs.create_new_file.close() })\n        .catch(() => { console.info('Canceled gapi picker.') })\n    },\n    updateFilename ($event) {\n      this.filename = $event.value\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  \n</style>\n\n\n// WEBPACK FOOTER //\n// CreateNewFileDialog.vue?05d3aef0","<template>\n  <div class=\"textarea-container\">\n    <textarea :value=\"fileContent\" @input=\"inputContent($event)\" @keyup=\"carretMoved($event)\" @click=\"carretMoved($event)\"></textarea>\n    <collaborator-cursor v-for=\"cursor in cursors\" v-bind:cursor=\"cursor\"></collaborator-cursor>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\nimport { file } from 'src/services'\nimport getCaretCoordinates from 'textarea-caret'\n\nimport CollaboratorCursor from 'src/components/CollaboratorCursor'\n\nexport default {\n  components: {\n    CollaboratorCursor\n  },\n  computed: {\n    ...mapState({\n      fileContent: state => state.file.content,\n      collaborators: state => state.collaborators.users\n    }),\n    cursors () {\n      return this.collaborators\n        .filter((collaborator) => (typeof collaborator.cursor !== 'undefined' && !collaborator.isMe))\n        .map((collaborator) => {\n          // use fileContent so it will update when the file content changes too.\n          const position = this.$el\n            ? getCaretCoordinates(this.$el.querySelector('textarea'), collaborator.cursor)\n            : { top: 0, left: 0 }\n          return {\n            color: collaborator.color,\n            collaboratorName: collaborator.displayName,\n            position: position,\n            sessionId: collaborator.sessionId\n          }\n        }, this)\n    }\n  },\n  watch: {\n    fileContent (fileContent) {\n      this.$nextTick(() => {\n        const me = this.collaborators.find(collaborator => collaborator.isMe)\n        if (me && me.cursor) {\n          this.$el.querySelector('textarea').setSelectionRange(me.cursor, me.cursor)\n        }\n      })\n    }\n  },\n  methods: {\n    inputContent (event) {\n      this.editContent(event.target.value)\n    },\n    carretMoved (event) {\n      file.moveCursor(event.target.selectionStart)\n    },\n    ...mapActions([\n      'editContent'\n    ])\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  @import '../styles/globals';\n\n  div {\n    position: relative;\n  }\n\n  div.textarea-container {\n    height:100%;\n  }\n\n  textarea {\n    background: white;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n\n    resize: none;\n    border: 1px solid $primary-color;\n    font-size: 14px;\n    font-family: monospace;\n    outline: none;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// TextView.vue?29d190dd","<template>\n  <div>\n    <mdl-tooltip :target=\"collaborator.sessionId\">\n      {{ collaborator.displayName }}\n      {{ collaborator.isMe ? \"(me)\" : \"\" }}</mdl-tooltip>\n    <img :id=\"collaborator.sessionId\" class=\"avatar\" :style=\"{borderColor: collaborator.color}\" :src=\"collaborator.photoUrl\"/>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['collaborator']\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../styles/globals';\n.avatar {\n\twidth: 28px;\n\theight: 28px;\n\tborder-bottom: 4px solid;\n\tmargin-right: 10px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Collaborator.vue?0234b050","<template>\n    <header class=\"mdl-layout__header mdl-color--grey-100 mdl-color-text--grey-600\">\n      <div class=\"mdl-layout__header-row\">\n        <!-- Title -->\n        <i class=\"material-icons\">insert_drive_file</i>\n        <input class='filename' contenteditable=\"true\" @blur='rename' :value='fileName' ref=\"filename\"/>\n        <span class=\"filestatus\">{{ fileStatus }} {{ savedMoment }}</span>\n        <!-- Add spacer, to align navigation to the right -->\n        <div class=\"mdl-layout-spacer\"></div>\n        <collaborator v-for=\"collaborator in collaborators\" v-bind:collaborator=\"collaborator\">\n        </collaborator>\n        <!-- Navigation. We hide it in small screens. -->\n        <nav class=\"mdl-navigation mdl-layout--large-screen-only\">\n          <mdl-button @click.native=\"openShare()\"><i class=\"material-icons\">share</i> Share</mdl-button>\n        </nav>\n      </div>\n    </header>\n</template>\n\n<script>\n/* global Event */\nimport { mapState, mapActions } from 'vuex'\nimport autosizeInput from 'autosize-input'\nimport { STATUS_LIST } from '../../store/modules/file'\nimport { file } from 'src/services'\nimport moment from 'moment'\n\nimport Collaborator from 'src/components/menu/Collaborator'\n\nexport default {\n  components: {\n    Collaborator\n  },\n  data: () => {\n    return {\n      showSavedMoment: false,\n      now: Date.now()\n    }\n  },\n  computed: {\n    fileName () {\n      if (this && this.$refs.filename) {\n        setTimeout(() => { this.$refs.filename.dispatchEvent(new Event('input')) }, 10)\n      }\n      return this.$store.state.file.metadata.name\n    },\n    fileStatus () {\n      switch (this.$store.state.file.status) {\n        case STATUS_LIST.INTIAL: return 'New file'\n        case STATUS_LIST.SAVING: return 'Saving...'\n        case STATUS_LIST.SAVED: return 'Saved ' + moment(this.$store.state.file.metadata.modifiedTime).from(this.now)\n        case STATUS_LIST.NOT_SAVED: return 'Could not save to drive'\n        case STATUS_LIST.DIRTY: return 'Saving...'\n      }\n    },\n    ...mapState({\n      fileId: (state) => state.file.metadata.id,\n      collaborators: (state) => state.collaborators.users\n    })\n  },\n  watch: {\n    'fileName': function (val, oldVal) {\n      if (typeof this !== 'undefined') {\n        // trigger the autosize-input\n        this.$refs.filename.dispatchEvent(new Event('input'))\n      }\n    }\n  },\n  methods: {\n    ...mapActions([\n      'renameFile'\n    ]),\n\n    rename (e) {\n      this.renameFile(e.target.value)\n    },\n\n    openShare () {\n      file.share()\n    }\n  },\n\n  mounted () {\n    this.$nextTick(() => {\n      autosizeInput(this.$refs.filename)\n    })\n\n    setInterval(() => {\n      this.now = new Date()\n    }, 1000)\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '../../styles/globals';\n\n.mdl-navigation > * {\n  margin-left: 20px;\n}\n\n.filename {\n  border: 1px solid transparent;\n  border-radius: 2px!important;\n  font-size: 18px;\n  height: 20px;\n  line-height: 22px;\n  margin: 0;\n  min-width: 1px;\n  padding: 2px 7px;\n  background-color: transparent;\n\n  &:focus {\n    border: 1px solid $secondary-color;\n    outline: $secondary-color auto 5px;\n  }\n  &:hover {\n    border: 1px solid $secondary-color;\n  }\n}\n\n.filestatus {\n  margin-left: 10px;\n  height: 20px;\n  line-height: 22px;\n}\n\n.mdl-layout__drawer-button {\n  color: $secondary-color;\n  background-color: $primary-color;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// PageHeader.vue?53208e84","<template>\n\t<div class=\"demo-avatar-dropdown\">\n    <img class='avatar' v-bind:src=\"user.image\"/>\n  \t<span>{{ user.email }}</span>\n  \t<button id=\"accbtn\" class=\"mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon\">\n  \t  <i class=\"material-icons\" role=\"presentation\">arrow_drop_down</i>\n  \t  <span class=\"visuallyhidden\">Accounts</span>\n  \t</button>\n  \t<ul class=\"mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect\" for=\"accbtn\">\n  \t  <li class=\"mdl-menu__item\">logout</li>\n  \t</ul>\n  </div>\n</template>\n\n<script>\nimport user from '../../stores/user'\n\nexport default {\n  data () {\n    return {\n      user: user.state\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../styles/globals';\n.avatar {\n\twidth: 28px;\n\theight: 28px;\n\tborder-radius: 16px;\n\tborder: 3px solid $secondary-color;\n\tmargin-right: 10px;\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// ProfileMenu.vue?e085226a","<template>\n\t<div class=\"mdl-layout__drawer\">\n\n      <span class=\"mdl-layout-title\">\n\n      </span>\n      <nav class=\"mdl-navigation\">\n        <a class=\"mdl-navigation__link\" id=\"new-file-button\" @click=\"newFile()\">\n          <i class=\"material-icons\">insert_drive_file</i> New file\n        </a>\n        <a class=\"mdl-navigation__link\" id=\"open-file-button\" @click=\"openFile()\">\n          <i class=\"material-icons\">folder_open</i> Open...\n        </a>\n        <a class=\"mdl-navigation__link\" id=\"share-button\" @click=\"openShare()\">\n          <i class=\"material-icons\">share</i> Share...\n        </a>\n      </nav>\n    </div>\n</template>\n\n<script>\nimport { file } from 'src/services'\nimport indexOf from 'lodash/indexOf'\n\nexport default {\n  methods: {\n    newFile () {\n      window.open('/', '_blank')\n      this.closeNav()\n    },\n\n    openFile () {\n      file.openFromGDrive()\n    },\n\n    openShare () {\n      file.share()\n    },\n\n    closeNav () {\n      setTimeout(() => {\n        let d = document.querySelector('.mdl-layout__drawer')\n        if (indexOf(d.classList, 'is-visible') !== -1) {\n          document.querySelector('.mdl-layout').MaterialLayout.toggleDrawer()\n        }\n      }, 100)\n    }\n\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// SideMenu.vue?9752f010","var map = {\n\t\"./af\": 89,\n\t\"./af.js\": 89,\n\t\"./ar\": 95,\n\t\"./ar-dz\": 90,\n\t\"./ar-dz.js\": 90,\n\t\"./ar-ly\": 91,\n\t\"./ar-ly.js\": 91,\n\t\"./ar-ma\": 92,\n\t\"./ar-ma.js\": 92,\n\t\"./ar-sa\": 93,\n\t\"./ar-sa.js\": 93,\n\t\"./ar-tn\": 94,\n\t\"./ar-tn.js\": 94,\n\t\"./ar.js\": 95,\n\t\"./az\": 96,\n\t\"./az.js\": 96,\n\t\"./be\": 97,\n\t\"./be.js\": 97,\n\t\"./bg\": 98,\n\t\"./bg.js\": 98,\n\t\"./bn\": 99,\n\t\"./bn.js\": 99,\n\t\"./bo\": 100,\n\t\"./bo.js\": 100,\n\t\"./br\": 101,\n\t\"./br.js\": 101,\n\t\"./bs\": 102,\n\t\"./bs.js\": 102,\n\t\"./ca\": 103,\n\t\"./ca.js\": 103,\n\t\"./cs\": 104,\n\t\"./cs.js\": 104,\n\t\"./cv\": 105,\n\t\"./cv.js\": 105,\n\t\"./cy\": 106,\n\t\"./cy.js\": 106,\n\t\"./da\": 107,\n\t\"./da.js\": 107,\n\t\"./de\": 109,\n\t\"./de-at\": 108,\n\t\"./de-at.js\": 108,\n\t\"./de.js\": 109,\n\t\"./dv\": 110,\n\t\"./dv.js\": 110,\n\t\"./el\": 111,\n\t\"./el.js\": 111,\n\t\"./en-au\": 112,\n\t\"./en-au.js\": 112,\n\t\"./en-ca\": 113,\n\t\"./en-ca.js\": 113,\n\t\"./en-gb\": 114,\n\t\"./en-gb.js\": 114,\n\t\"./en-ie\": 115,\n\t\"./en-ie.js\": 115,\n\t\"./en-nz\": 116,\n\t\"./en-nz.js\": 116,\n\t\"./eo\": 117,\n\t\"./eo.js\": 117,\n\t\"./es\": 119,\n\t\"./es-do\": 118,\n\t\"./es-do.js\": 118,\n\t\"./es.js\": 119,\n\t\"./et\": 120,\n\t\"./et.js\": 120,\n\t\"./eu\": 121,\n\t\"./eu.js\": 121,\n\t\"./fa\": 122,\n\t\"./fa.js\": 122,\n\t\"./fi\": 123,\n\t\"./fi.js\": 123,\n\t\"./fo\": 124,\n\t\"./fo.js\": 124,\n\t\"./fr\": 127,\n\t\"./fr-ca\": 125,\n\t\"./fr-ca.js\": 125,\n\t\"./fr-ch\": 126,\n\t\"./fr-ch.js\": 126,\n\t\"./fr.js\": 127,\n\t\"./fy\": 128,\n\t\"./fy.js\": 128,\n\t\"./gd\": 129,\n\t\"./gd.js\": 129,\n\t\"./gl\": 130,\n\t\"./gl.js\": 130,\n\t\"./he\": 131,\n\t\"./he.js\": 131,\n\t\"./hi\": 132,\n\t\"./hi.js\": 132,\n\t\"./hr\": 133,\n\t\"./hr.js\": 133,\n\t\"./hu\": 134,\n\t\"./hu.js\": 134,\n\t\"./hy-am\": 135,\n\t\"./hy-am.js\": 135,\n\t\"./id\": 136,\n\t\"./id.js\": 136,\n\t\"./is\": 137,\n\t\"./is.js\": 137,\n\t\"./it\": 138,\n\t\"./it.js\": 138,\n\t\"./ja\": 139,\n\t\"./ja.js\": 139,\n\t\"./jv\": 140,\n\t\"./jv.js\": 140,\n\t\"./ka\": 141,\n\t\"./ka.js\": 141,\n\t\"./kk\": 142,\n\t\"./kk.js\": 142,\n\t\"./km\": 143,\n\t\"./km.js\": 143,\n\t\"./ko\": 144,\n\t\"./ko.js\": 144,\n\t\"./ky\": 145,\n\t\"./ky.js\": 145,\n\t\"./lb\": 146,\n\t\"./lb.js\": 146,\n\t\"./lo\": 147,\n\t\"./lo.js\": 147,\n\t\"./lt\": 148,\n\t\"./lt.js\": 148,\n\t\"./lv\": 149,\n\t\"./lv.js\": 149,\n\t\"./me\": 150,\n\t\"./me.js\": 150,\n\t\"./mi\": 151,\n\t\"./mi.js\": 151,\n\t\"./mk\": 152,\n\t\"./mk.js\": 152,\n\t\"./ml\": 153,\n\t\"./ml.js\": 153,\n\t\"./mr\": 154,\n\t\"./mr.js\": 154,\n\t\"./ms\": 156,\n\t\"./ms-my\": 155,\n\t\"./ms-my.js\": 155,\n\t\"./ms.js\": 156,\n\t\"./my\": 157,\n\t\"./my.js\": 157,\n\t\"./nb\": 158,\n\t\"./nb.js\": 158,\n\t\"./ne\": 159,\n\t\"./ne.js\": 159,\n\t\"./nl\": 161,\n\t\"./nl-be\": 160,\n\t\"./nl-be.js\": 160,\n\t\"./nl.js\": 161,\n\t\"./nn\": 162,\n\t\"./nn.js\": 162,\n\t\"./pa-in\": 163,\n\t\"./pa-in.js\": 163,\n\t\"./pl\": 164,\n\t\"./pl.js\": 164,\n\t\"./pt\": 166,\n\t\"./pt-br\": 165,\n\t\"./pt-br.js\": 165,\n\t\"./pt.js\": 166,\n\t\"./ro\": 167,\n\t\"./ro.js\": 167,\n\t\"./ru\": 168,\n\t\"./ru.js\": 168,\n\t\"./se\": 169,\n\t\"./se.js\": 169,\n\t\"./si\": 170,\n\t\"./si.js\": 170,\n\t\"./sk\": 171,\n\t\"./sk.js\": 171,\n\t\"./sl\": 172,\n\t\"./sl.js\": 172,\n\t\"./sq\": 173,\n\t\"./sq.js\": 173,\n\t\"./sr\": 175,\n\t\"./sr-cyrl\": 174,\n\t\"./sr-cyrl.js\": 174,\n\t\"./sr.js\": 175,\n\t\"./ss\": 176,\n\t\"./ss.js\": 176,\n\t\"./sv\": 177,\n\t\"./sv.js\": 177,\n\t\"./sw\": 178,\n\t\"./sw.js\": 178,\n\t\"./ta\": 179,\n\t\"./ta.js\": 179,\n\t\"./te\": 180,\n\t\"./te.js\": 180,\n\t\"./tet\": 181,\n\t\"./tet.js\": 181,\n\t\"./th\": 182,\n\t\"./th.js\": 182,\n\t\"./tl-ph\": 183,\n\t\"./tl-ph.js\": 183,\n\t\"./tlh\": 184,\n\t\"./tlh.js\": 184,\n\t\"./tr\": 185,\n\t\"./tr.js\": 185,\n\t\"./tzl\": 186,\n\t\"./tzl.js\": 186,\n\t\"./tzm\": 188,\n\t\"./tzm-latn\": 187,\n\t\"./tzm-latn.js\": 187,\n\t\"./tzm.js\": 188,\n\t\"./uk\": 189,\n\t\"./uk.js\": 189,\n\t\"./uz\": 190,\n\t\"./uz.js\": 190,\n\t\"./vi\": 191,\n\t\"./vi.js\": 191,\n\t\"./x-pseudo\": 192,\n\t\"./x-pseudo.js\": 192,\n\t\"./yo\": 193,\n\t\"./yo.js\": 193,\n\t\"./zh-cn\": 194,\n\t\"./zh-cn.js\": 194,\n\t\"./zh-hk\": 195,\n\t\"./zh-hk.js\": 195,\n\t\"./zh-tw\": 196,\n\t\"./zh-tw.js\": 196\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 345;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/moment/locale ^\\.\\/.*$\n// module id = 345\n// module chunks = 2","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZlcnNpb249IjEuMSIgIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgPHBhdGggZmlsbD0iIzAwMDAwMCIgZD0iTTcuNzEsMy41TDEuMTUsMTVMNC41OCwyMUwxMS4xMyw5LjVNOS43MywxNUw2LjMsMjFIMTkuNDJMMjIuODUsMTVNMjIuMjgsMTRMMTUuNDIsMkg4LjU4TDguNTcsMkwxNS40MywxNEgyMi4yOFoiIC8+Cjwvc3ZnPg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/google-drive.svg\n// module id = 348\n// module chunks = 2","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-dcca0e7e!vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./App.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-dcca0e7e!vue-loader/lib/selector?type=template&index=0!./App.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 349\n// module chunks = 2","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-2bdb8575&scoped=true!vue-loader/lib/selector?type=styles&index=0!./CollaboratorCursor.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./CollaboratorCursor.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-2bdb8575!vue-loader/lib/selector?type=template&index=0!./CollaboratorCursor.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-2bdb8575\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/CollaboratorCursor.vue\n// module id = 350\n// module chunks = 2","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-e9cab642&scoped=true!sass-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./CreateNewFileDialog.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./CreateNewFileDialog.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-e9cab642!vue-loader/lib/selector?type=template&index=0!./CreateNewFileDialog.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-e9cab642\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/CreateNewFileDialog.vue\n// module id = 351\n// module chunks = 2","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-ee3b5baa&scoped=true!sass-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./TextView.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./TextView.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-ee3b5baa!vue-loader/lib/selector?type=template&index=0!./TextView.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-ee3b5baa\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TextView.vue\n// module id = 352\n// module chunks = 2","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-bb7f86e6&scoped=true!sass-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./Collaborator.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Collaborator.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-bb7f86e6!vue-loader/lib/selector?type=template&index=0!./Collaborator.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-bb7f86e6\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/menu/Collaborator.vue\n// module id = 353\n// module chunks = 2","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-15309b43!sass-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./PageHeader.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./PageHeader.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-15309b43!vue-loader/lib/selector?type=template&index=0!./PageHeader.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/menu/PageHeader.vue\n// module id = 354\n// module chunks = 2","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-36a1631e&scoped=true!sass-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./ProfileMenu.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./ProfileMenu.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-36a1631e!vue-loader/lib/selector?type=template&index=0!./ProfileMenu.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-36a1631e\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/menu/ProfileMenu.vue\n// module id = 355\n// module chunks = 2","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-5d0bd75d&scoped=true!sass-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./SideMenu.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./SideMenu.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-5d0bd75d!vue-loader/lib/selector?type=template&index=0!./SideMenu.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-5d0bd75d\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/menu/SideMenu.vue\n// module id = 356\n// module chunks = 2","module.exports={render:function (){var _vm=this;\n  return _vm._h('header', {\n    staticClass: \"mdl-layout__header mdl-color--grey-100 mdl-color-text--grey-600\"\n  }, [_vm._h('div', {\n    staticClass: \"mdl-layout__header-row\"\n  }, [_vm._h('i', {\n    staticClass: \"material-icons\"\n  }, [\"insert_drive_file\"]), \" \", _vm._h('input', {\n    ref: \"filename\",\n    staticClass: \"filename\",\n    attrs: {\n      \"contenteditable\": \"true\"\n    },\n    domProps: {\n      \"value\": _vm.fileName\n    },\n    on: {\n      \"blur\": _vm.rename\n    }\n  }), \" \", _vm._h('span', {\n    staticClass: \"filestatus\"\n  }, [_vm._s(_vm.fileStatus) + \" \" + _vm._s(_vm.savedMoment)]), \" \", \" \", _vm._h('div', {\n    staticClass: \"mdl-layout-spacer\"\n  }), \" \", _vm._l((_vm.collaborators), function(collaborator) {\n    return _vm._h('collaborator', {\n      attrs: {\n        \"collaborator\": collaborator\n      }\n    })\n  }), \" \", \" \", _vm._h('nav', {\n    staticClass: \"mdl-navigation mdl-layout--large-screen-only\"\n  }, [_vm._h('mdl-button', {\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.openShare()\n      }\n    }\n  }, [_vm._h('i', {\n    staticClass: \"material-icons\"\n  }, [\"share\"]), \" Share\"])])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-15309b43!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/menu/PageHeader.vue\n// module id = 357\n// module chunks = 2","module.exports={render:function (){var _vm=this;\n  return _vm._h('div', {\n    style: ({\n      top: _vm.cursor.position.top + 'px',\n      left: _vm.cursor.position.left + 'px'\n    })\n  }, [_vm._h('mdl-tooltip', {\n    attrs: {\n      \"target\": 'carret' + _vm.cursor.sessionId\n    }\n  }, [\"\\n    \" + _vm._s(_vm.cursor.collaboratorName) + \"\\n  \"]), \" \", _vm._h('div', {\n    staticClass: \"carret\",\n    style: ({\n      backgroundColor: _vm.cursor.color\n    }),\n    attrs: {\n      \"id\": 'carret' + _vm.cursor.sessionId\n    }\n  })])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-2bdb8575!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/CollaboratorCursor.vue\n// module id = 358\n// module chunks = 2","module.exports={render:function (){var _vm=this;\n  return _vm._h('div', {\n    staticClass: \"demo-avatar-dropdown\"\n  }, [_vm._h('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": _vm.user.image\n    }\n  }), \" \", _vm._h('span', [_vm._s(_vm.user.email)]), \" \", _vm._m(0), \" \", _vm._m(1)])\n},staticRenderFns: [function (){var _vm=this;\n  return _vm._h('button', {\n    staticClass: \"mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon\",\n    attrs: {\n      \"id\": \"accbtn\"\n    }\n  }, [_vm._h('i', {\n    staticClass: \"material-icons\",\n    attrs: {\n      \"role\": \"presentation\"\n    }\n  }, [\"arrow_drop_down\"]), \" \", _vm._h('span', {\n    staticClass: \"visuallyhidden\"\n  }, [\"Accounts\"])])\n},function (){var _vm=this;\n  return _vm._h('ul', {\n    staticClass: \"mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect\",\n    attrs: {\n      \"for\": \"accbtn\"\n    }\n  }, [_vm._h('li', {\n    staticClass: \"mdl-menu__item\"\n  }, [\"logout\"])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-36a1631e!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/menu/ProfileMenu.vue\n// module id = 359\n// module chunks = 2","module.exports={render:function (){var _vm=this;\n  return _vm._h('div', {\n    staticClass: \"mdl-layout__drawer\"\n  }, [_vm._h('span', {\n    staticClass: \"mdl-layout-title\"\n  }), \" \", _vm._h('nav', {\n    staticClass: \"mdl-navigation\"\n  }, [_vm._h('a', {\n    staticClass: \"mdl-navigation__link\",\n    attrs: {\n      \"id\": \"new-file-button\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.newFile()\n      }\n    }\n  }, [_vm._h('i', {\n    staticClass: \"material-icons\"\n  }, [\"insert_drive_file\"]), \" New file\\n        \"]), \" \", _vm._h('a', {\n    staticClass: \"mdl-navigation__link\",\n    attrs: {\n      \"id\": \"open-file-button\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.openFile()\n      }\n    }\n  }, [_vm._h('i', {\n    staticClass: \"material-icons\"\n  }, [\"folder_open\"]), \" Open...\\n        \"]), \" \", _vm._h('a', {\n    staticClass: \"mdl-navigation__link\",\n    attrs: {\n      \"id\": \"share-button\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.openShare()\n      }\n    }\n  }, [_vm._h('i', {\n    staticClass: \"material-icons\"\n  }, [\"share\"]), \" Share...\\n        \"])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-5d0bd75d!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/menu/SideMenu.vue\n// module id = 360\n// module chunks = 2","module.exports={render:function (){var _vm=this;\n  return _vm._h('div', [_vm._h('mdl-tooltip', {\n    attrs: {\n      \"target\": _vm.collaborator.sessionId\n    }\n  }, [\"\\n    \" + _vm._s(_vm.collaborator.displayName) + \"\\n    \" + _vm._s(_vm.collaborator.isMe ? \"(me)\" : \"\")]), \" \", _vm._h('img', {\n    staticClass: \"avatar\",\n    style: ({\n      borderColor: _vm.collaborator.color\n    }),\n    attrs: {\n      \"id\": _vm.collaborator.sessionId,\n      \"src\": _vm.collaborator.photoUrl\n    }\n  })])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-bb7f86e6!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/menu/Collaborator.vue\n// module id = 361\n// module chunks = 2","module.exports={render:function (){var _vm=this;\n  return _vm._h('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_vm._h('div', {\n    staticClass: \"mdl-layout mdl-js-layout mdl-layout--fixed-header\"\n  }, [_vm._h('page-header'), \" \", _vm._h('side-menu'), \" \", _vm._h('main', {\n    staticClass: \"mdl-layout__content mdl-color--grey-100\"\n  }, [_vm._h('div', {\n    staticClass: \"page-content\"\n  }, [_vm._h('div', {\n    staticClass: \"mdl-grid\"\n  }, [_vm._h('div', {\n    staticClass: \"mdl-cell mdl-cell--8-col mdl-cell--2-offset-desktop\",\n    attrs: {\n      \"id\": \"text-view\"\n    }\n  }, [_vm._h('text-view')])]), \" \", _vm._h('mdl-dialog', {\n    ref: \"login\",\n    attrs: {\n      \"full-width\": \"\",\n      \"title\": \"Hi there\"\n    }\n  }, [_vm._h('p', [\"Please log in with your Google Drive account\"]), \" \", _vm._h('template', {\n    slot: \"actions\"\n  }, [_vm._h('mdl-button', {\n    attrs: {\n      \"primary\": \"\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.handleAuthClick($event)\n      }\n    }\n  }, [\"Login\"])])]), \" \", _vm._h('mdl-dialog', {\n    ref: \"errorMessage\",\n    attrs: {\n      \"title\": \":(\"\n    },\n    on: {\n      \"close\": _vm.closeErrorMessageCallback\n    }\n  }, [_vm._h('p', [_vm._s(_vm.errorMessage)])]), \" \", _vm._h('pre', {\n    attrs: {\n      \"id\": \"output\"\n    }\n  })])]), \" \", _vm._h('create-new-file-dialog', {\n    ref: \"create_new_file\"\n  })])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-dcca0e7e!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 362\n// module chunks = 2","module.exports={render:function (){var _vm=this;\n  return _vm._h('mdl-dialog', {\n    ref: \"create_new_file\",\n    attrs: {\n      \"full-width\": \"\",\n      \"title\": \"Create new file\"\n    }\n  }, [_vm._h('mdl-textfield', {\n    attrs: {\n      \"floating-label\": \"File name\",\n      \"value\": _vm.filename,\n      \"id\": \"create-filename-input\"\n    }\n  }), \" \", _vm._h('template', {\n    slot: \"actions\"\n  }, [_vm._h('mdl-button', {\n    attrs: {\n      \"primary\": \"\",\n      \"id\": \"create-new-file-button\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.createNew()\n      }\n    }\n  }, [\"Create\"]), \" \", _vm._h('mdl-button', {\n    attrs: {\n      \"id\": \"open-from-gdrive-button\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.openFromGDrive()\n      }\n    }\n  }, [\"... or open from Google Drive \", _vm._h('img', {\n    attrs: {\n      \"src\": _vm.gdriveSvg\n    }\n  })])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-e9cab642!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/CreateNewFileDialog.vue\n// module id = 363\n// module chunks = 2","module.exports={render:function (){var _vm=this;\n  return _vm._h('div', {\n    staticClass: \"textarea-container\"\n  }, [_vm._h('textarea', {\n    domProps: {\n      \"value\": _vm.fileContent\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.inputContent($event)\n      },\n      \"keyup\": function($event) {\n        _vm.carretMoved($event)\n      },\n      \"click\": function($event) {\n        _vm.carretMoved($event)\n      }\n    }\n  }), \" \", _vm._l((_vm.cursors), function(cursor) {\n    return _vm._h('collaborator-cursor', {\n      attrs: {\n        \"cursor\": cursor\n      }\n    })\n  })])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-ee3b5baa!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/TextView.vue\n// module id = 364\n// module chunks = 2"],"sourceRoot":""}