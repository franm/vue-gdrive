{"version":3,"sources":["webpack:///static/js/app.f9ac096d7ff9f3d72c41.js","webpack:///./src/main.js","webpack:///./src/gapi/gapi-integration.js","webpack:///./src/vuex/actions.js","webpack:///./src/stores/User.js","webpack:///./src/vuex/modules/xgzfile.js","webpack:///./src/vuex/mutation-types.js","webpack:///./src/gapi/multipart.js","webpack:///./src/vuex/store.js","webpack:///App.vue","webpack:///CreateNewXgzDialog.vue","webpack:///TextView.vue","webpack:///PageHeader.vue","webpack:///ProfileMenu.vue","webpack:///./src/assets/google-drive.svg","webpack:///./src/App.vue?d818","webpack:///./src/components/menu/PageHeader.vue?3379","webpack:///./src/components/CreateNewXgzDialog.vue?9cbf","webpack:///./src/components/menu/ProfileMenu.vue?a0c2","webpack:///./src/components/TextView.vue?a80d","webpack:///./src/App.vue","webpack:///./src/components/CreateNewXgzDialog.vue","webpack:///./src/components/TextView.vue","webpack:///./src/components/menu/PageHeader.vue","webpack:///./src/components/menu/ProfileMenu.vue"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_App","_App2","_vueMdl","_vueMdl2","_store","_store2","use","store","el","components","App","data","Object","defineProperty","value","_stringify","_stringify2","_promise","_promise2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_multipart","_multipart2","GApiIntegration","this","console","log","CLIENT_ID","SCOPES","DEFAULT_FIELDS","key","resolve","reject","waitForApi","gapi","client","all","load","then","setTimeout","_this","immediate","arguments","length","undefined","user","auth","authorize","buildAuthRequest","authResult","error","immediateMode","request","client_id","scope","join","login_hint","authuser","plus","people","get","userId","xgzFile","filename","path","method","metadata","id","encodeURIComponent","mimeType","name","multipart","append","content","finish","params","uploadType","fields","headers","Content-Type","type","body","file","fileId","_this2","metadataRequest","drive","files","contentRequest","alt","responses","result","view","google","picker","DocsView","ViewId","DOCS","setMimeTypes","setSelectFolderEnabled","setIncludeFolders","PickerBuilder","setAppId","setOAuthToken","getToken","access_token","addView","setCallback","action","docs","build","setVisible","_interopRequireWildcard","newObj","prototype","hasOwnProperty","call","loadFile","renameFile","editContent","saveXGZ","createNewXGZ","_gapiIntegration","_gapiIntegration2","_mutationTypes","types","_lodash","_lodash2","_ref","dispatch","state","NEW_FILE","saveXgzFile","xgzfile","FILE_SAVED","reason","FILE_NOT_SAVED","_ref2","FILE_SAVING","debounceSave","debounce","_ref3","e","target","EDIT_CONTENT","_ref4","RENAME_FILE","_ref5","LOAD_FILE","window","history","pushState","image","email","setUser","STATUS_LIST","_mutations","_defineProperty2","_defineProperty3","INITIAL","SAVING","SAVED","NOT_SAVED","DIRTY","status","mutations","assign","_class","boundary","Math","random","toString","slice","parts","Error","push","_vuex","_vuex2","_xgzfile","_xgzfile2","config","debug","Store","modules","strict","_querystringify","_querystringify2","_actions","_PageHeader","_PageHeader2","_CreateNewXgzDialog","_CreateNewXgzDialog2","_TextView","_TextView2","_User","_User2","PageHeader","TextView","create-new-xgz-dialog","vuex","actions","attached","queryVars","parse","location","search","loadDriveApis","loadUserData","loadThisFile","$refs","login","open","methods","handleAuthClick","close","getUserProfile","resp","displayName","url","emails","_this3","openCreateNewXGZ","create_new","openDialog","_googleDrive","_googleDrive2","gdriveSvg","create_new_xgz","createNew","openFromGDrive","showPicker","getters","fileContent","_autosizeInput","_autosizeInput2","_ProfileMenu","_ProfileMenu2","ProfileMenu","watch","fileName","val","oldVal","$els","dispatchEvent","Event","fileStatus","INTIAL","modifiedTime","rename","closeNav","d","document","querySelector","findIndex","classList","MaterialLayout","toggleDrawer","openFile","ready","__vue_script__","__vue_template__","options","template"],"mappings":"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","file":"static/js/app.f9ac096d7ff9f3d72c41.js","sourcesContent":["webpackJsonp([2,0],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(42);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _App = __webpack_require__(104);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tvar _vueMdl = __webpack_require__(109);\n\t\n\tvar _vueMdl2 = _interopRequireDefault(_vueMdl);\n\t\n\tvar _store = __webpack_require__(45);\n\t\n\tvar _store2 = _interopRequireDefault(_store);\n\t\n\t__webpack_require__(96);\n\t\n\t__webpack_require__(89);\n\t\n\t__webpack_require__(95);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_vueMdl2.default);\n\t\n\tnew _vue2.default({\n\t  store: _store2.default,\n\t  el: 'body',\n\t  components: {\n\t    App: _App2.default\n\t  },\n\t  data: {}\n\t});\n\n/***/ },\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(51);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _promise = __webpack_require__(28);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _classCallCheck2 = __webpack_require__(29);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _createClass2 = __webpack_require__(30);\n\t\n\tvar _createClass3 = _interopRequireDefault(_createClass2);\n\t\n\tvar _multipart = __webpack_require__(44);\n\t\n\tvar _multipart2 = _interopRequireDefault(_multipart);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar GApiIntegration = function () {\n\t  function GApiIntegration() {\n\t    (0, _classCallCheck3.default)(this, GApiIntegration);\n\t\n\t    console.log('CONSTRUCTING GApi!!!!');\n\t\n\t    this.CLIENT_ID = (\"82194900104-fpkii8sk6vg12ihm0sf8v8c165bictn0.apps.googleusercontent.com\");\n\t    this.SCOPES = ['email', 'profile', 'https://www.googleapis.com/auth/drive', 'https://www.googleapis.com/auth/drive.install', 'https://www.googleapis.com/auth/plus.login'];\n\t\n\t    this.DEFAULT_FIELDS = 'capabilities(canCopy,canEdit),createdTime,fileExtension,id,mimeType,modifiedTime,name,shared,size,version';\n\t  }\n\t\n\t  (0, _createClass3.default)(GApiIntegration, [{\n\t    key: 'loadDriveApis',\n\t    value: function loadDriveApis() {\n\t      return new _promise2.default(function (resolve, reject) {\n\t        (function waitForApi() {\n\t          console.log('loadDriveApi...');\n\t          if (gapi && gapi.client) {\n\t            _promise2.default.all([gapi.client.load('drive', 'v3'), gapi.client.load('plus', 'v1'), gapi.load('picker')]).then(function () {\n\t              console.log('gapi.client.load finished!!');\n\t              resolve();\n\t            });\n\t          } else {\n\t            setTimeout(function () {\n\t              return waitForApi();\n\t            }, 10);\n\t            console.log('wait for it...');\n\t          }\n\t        })();\n\t      });\n\t    }\n\t  }, {\n\t    key: 'authorize',\n\t    value: function authorize() {\n\t      var _this = this;\n\t\n\t      var immediate = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\t      var user = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\t\n\t      console.log('authorize');\n\t      return new _promise2.default(function (resolve, reject) {\n\t        gapi.auth.authorize(_this.buildAuthRequest(immediate, user), function (authResult) {\n\t          if (authResult && !authResult.error) {\n\t            console.log('resolved!');\n\t            resolve();\n\t          } else {\n\t            console.log('rejected!');\n\t            reject();\n\t          }\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'buildAuthRequest',\n\t    value: function buildAuthRequest(immediateMode, user) {\n\t      var request = {\n\t        client_id: this.CLIENT_ID,\n\t        scope: this.SCOPES.join(' '),\n\t        immediate: immediateMode\n\t      };\n\t      if (user) {\n\t        request.login_hint = user;\n\t        request.authuser = -1;\n\t      }\n\t      return request;\n\t    }\n\t  }, {\n\t    key: 'getUserProfile',\n\t    value: function getUserProfile() {\n\t      return gapi.client.plus.people.get({\n\t        'userId': 'me'\n\t      });\n\t    }\n\t  }, {\n\t    key: 'saveXgzFile',\n\t    value: function saveXgzFile(xgzFile, filename) {\n\t      var path;\n\t      var method;\n\t\n\t      if (xgzFile.metadata.id) {\n\t        path = '/upload/drive/v3/files/' + encodeURIComponent(xgzFile.metadata.id);\n\t        method = 'PATCH';\n\t      } else {\n\t        path = '/upload/drive/v3/files';\n\t        method = 'POST';\n\t      }\n\t\n\t      var metadata = { mimeType: xgzFile.metadata.mimeType, name: filename || xgzFile.metadata.name };\n\t\n\t      var multipart = new _multipart2.default().append('application/json', (0, _stringify2.default)(metadata)).append(xgzFile.metadata.mimeType, xgzFile.content).finish();\n\t\n\t      return gapi.client.request({\n\t        path: path,\n\t        method: method,\n\t        params: {\n\t          uploadType: 'multipart',\n\t          fields: this.DEFAULT_FIELDS\n\t        },\n\t        headers: { 'Content-Type': multipart.type },\n\t        body: multipart.body\n\t      });\n\t    }\n\t  }, {\n\t    key: 'combineAndStoreResults',\n\t    value: function combineAndStoreResults(metadata, content) {\n\t      var file = {\n\t        metadata: metadata,\n\t        content: content\n\t      };\n\t      return file;\n\t    }\n\t  }, {\n\t    key: 'loadFile',\n\t    value: function loadFile(fileId) {\n\t      var _this2 = this;\n\t\n\t      return new _promise2.default(function (resolve, reject) {\n\t        var metadataRequest = gapi.client.drive.files.get({\n\t          fileId: fileId,\n\t          fields: _this2.DEFAULT_FIELDS\n\t        });\n\t        var contentRequest = gapi.client.drive.files.get({\n\t          fileId: fileId,\n\t          alt: 'media'\n\t        });\n\t\n\t        resolve(_promise2.default.all([metadataRequest, contentRequest]));\n\t      }).then(function (responses) {\n\t        return { metadata: responses[0].result, content: responses[1].body };\n\t      });\n\t    }\n\t  }, {\n\t    key: 'showPicker',\n\t    value: function showPicker() {\n\t      return new _promise2.default(function (resolve, reject) {\n\t        var view = new google.picker.DocsView(google.picker.ViewId.DOCS);\n\t        view.setMimeTypes('application/file-xgz');\n\t        view.setSelectFolderEnabled(true);\n\t        view.setIncludeFolders(true);\n\t        var picker = new google.picker.PickerBuilder().setAppId((\"82194900104\")).setOAuthToken(gapi.auth.getToken().access_token).addView(view).setCallback(function (data) {\n\t          if (data.action === 'picked') {\n\t            var id = data.docs[0].id;\n\t            resolve(id);\n\t          } else if (data.action === 'cancel') {\n\t            reject();\n\t          }\n\t        }).build();\n\t        picker.setVisible(true);\n\t      });\n\t    }\n\t  }]);\n\t  return GApiIntegration;\n\t}();\n\t\n\texports.default = new GApiIntegration();\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.loadFile = exports.renameFile = exports.editContent = exports.saveXGZ = exports.createNewXGZ = undefined;\n\t\n\tvar _promise = __webpack_require__(28);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _gapiIntegration = __webpack_require__(9);\n\t\n\tvar _gapiIntegration2 = _interopRequireDefault(_gapiIntegration);\n\t\n\tvar _mutationTypes = __webpack_require__(26);\n\t\n\tvar types = _interopRequireWildcard(_mutationTypes);\n\t\n\tvar _lodash = __webpack_require__(23);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar createNewXGZ = exports.createNewXGZ = function createNewXGZ(_ref, filename) {\n\t  var dispatch = _ref.dispatch;\n\t  var state = _ref.state;\n\t\n\t  console.log('Creating new XGZ');\n\t\n\t  dispatch(types.NEW_FILE);\n\t\n\t  _gapiIntegration2.default.saveXgzFile(state.xgzfile, filename).then(function (result) {\n\t    return dispatch(types.FILE_SAVED, result.result);\n\t  }, function (reason) {\n\t    return dispatch(types.FILE_NOT_SAVED);\n\t  });\n\t};\n\t\n\tvar saveXGZ = exports.saveXGZ = function saveXGZ(_ref2) {\n\t  var dispatch = _ref2.dispatch;\n\t  var state = _ref2.state;\n\t\n\t  console.log('Saving new XGZ');\n\t  dispatch(types.FILE_SAVING);\n\t\n\t  return new _promise2.default(function (resolve, reject) {\n\t    _gapiIntegration2.default.saveXgzFile(state.xgzfile).then(function (result) {\n\t      dispatch(types.FILE_SAVED, result.result);\n\t      resolve();\n\t    }, function (reason) {\n\t      dispatch(types.FILE_NOT_SAVED);\n\t      reject(reason);\n\t    });\n\t  });\n\t};\n\t\n\tvar debounceSave = _lodash2.default.debounce(saveXGZ, 5000);\n\t\n\tvar editContent = exports.editContent = function editContent(_ref3, e) {\n\t  var dispatch = _ref3.dispatch;\n\t  var state = _ref3.state;\n\t\n\t  console.log('Editing XGZ content: ' + e.target.value);\n\t  dispatch(types.EDIT_CONTENT, e.target.value);\n\t\n\t  debounceSave({ dispatch: dispatch, state: state });\n\t};\n\t\n\tvar renameFile = exports.renameFile = function renameFile(_ref4, filename) {\n\t  var dispatch = _ref4.dispatch;\n\t  var state = _ref4.state;\n\t\n\t  console.log('renaming XGZ');\n\t  dispatch(types.RENAME_FILE, filename);\n\t\n\t  debounceSave({ dispatch: dispatch, state: state });\n\t};\n\t\n\tvar loadFile = exports.loadFile = function loadFile(_ref5, file) {\n\t  var dispatch = _ref5.dispatch;\n\t\n\t  dispatch(types.LOAD_FILE, file);\n\t  window.history.pushState(undefined, '', '?file=' + file.metadata.id);\n\t};\n\n/***/ },\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */,\n/* 16 */,\n/* 17 */,\n/* 18 */,\n/* 19 */,\n/* 20 */,\n/* 21 */,\n/* 22 */,\n/* 23 */,\n/* 24 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  state: {\n\t    name: '',\n\t    image: '',\n\t    email: ''\n\t  },\n\t\n\t  setUser: function setUser(user) {\n\t    this.state.name = user.name;\n\t    this.state.image = user.image;\n\t    this.state.email = user.email;\n\t  }\n\t};\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.STATUS_LIST = undefined;\n\t\n\tvar _defineProperty2 = __webpack_require__(52);\n\t\n\tvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\t\n\tvar _mutations;\n\t\n\tvar _lodash = __webpack_require__(23);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _mutationTypes = __webpack_require__(26);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar STATUS_LIST = exports.STATUS_LIST = {\n\t  INITIAL: 'INTIAL',\n\t  SAVING: 'SAVING',\n\t  SAVED: 'SAVED',\n\t  NOT_SAVED: 'NOT_SAVED',\n\t  DIRTY: 'DIRTY'\n\t};\n\t\n\tvar state = {\n\t  metadata: {\n\t    name: 'New XGZ document'\n\t  },\n\t  content: '',\n\t  status: STATUS_LIST.INITIAL\n\t};\n\t\n\tvar mutations = (_mutations = {}, (0, _defineProperty3.default)(_mutations, _mutationTypes.NEW_FILE, function (state, name) {\n\t  state.metadata = {\n\t    id: null,\n\t    mimeType: 'application/file-xgz',\n\t    name: name\n\t  };\n\t  state.content = '';\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.FILE_SAVED, function (state, metadata) {\n\t  _lodash2.default.assign(state.metadata, metadata);\n\t  state.status = STATUS_LIST.SAVED;\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.FILE_NOT_SAVED, function (state) {\n\t  state.status = STATUS_LIST.NOT_SAVED;\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.FILE_SAVING, function (state) {\n\t  state.status = STATUS_LIST.SAVING;\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.EDIT_CONTENT, function (state, content) {\n\t  state.content = content;\n\t  state.status = STATUS_LIST.DIRTY;\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.RENAME_FILE, function (state, filename) {\n\t  state.metadata.name = filename;\n\t  state.status = STATUS_LIST.DIRTY;\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.LOAD_FILE, function (state, file) {\n\t  state.metadata = file.metadata;\n\t  state.content = file.content;\n\t  state.status = state.status = STATUS_LIST.SAVED;\n\t}), _mutations);\n\t\n\texports.default = {\n\t  state: state,\n\t  mutations: mutations\n\t};\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar NEW_FILE = exports.NEW_FILE = 'NEW_FILE';\n\tvar FILE_SAVED = exports.FILE_SAVED = 'FILE_SAVED';\n\tvar FILE_SAVING = exports.FILE_SAVING = 'FILE_SAVING';\n\tvar FILE_NOT_SAVED = exports.FILE_NOT_SAVED = 'FILE_NOT_SAVED';\n\t\n\tvar EDIT_CONTENT = exports.EDIT_CONTENT = 'EDIT_CONTENT';\n\tvar RENAME_FILE = exports.RENAME_FILE = 'RENAME_FILE';\n\tvar LOAD_FILE = exports.LOAD_FILE = 'LOAD_FILE';\n\n/***/ },\n/* 27 */,\n/* 28 */,\n/* 29 */,\n/* 30 */,\n/* 31 */,\n/* 32 */,\n/* 33 */,\n/* 34 */,\n/* 35 */,\n/* 36 */,\n/* 37 */,\n/* 38 */,\n/* 39 */,\n/* 40 */,\n/* 41 */,\n/* 42 */,\n/* 43 */,\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(29);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _createClass2 = __webpack_require__(30);\n\t\n\tvar _createClass3 = _interopRequireDefault(_createClass2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar _class = function () {\n\t  function _class() {\n\t    (0, _classCallCheck3.default)(this, _class);\n\t\n\t    this.boundary = Math.random().toString(36).slice(2);\n\t    this.mimeType = 'multipart/mixed; boundary=\"' + this.boundary + '\"';\n\t    this.parts = [];\n\t    this.body = null;\n\t  }\n\t\n\t  (0, _createClass3.default)(_class, [{\n\t    key: 'append',\n\t    value: function append(mimeType, content) {\n\t      if (this.body !== null) {\n\t        throw new Error('Builder has already been finalized.');\n\t      }\n\t      this.parts.push('\\r\\n--', this.boundary, '\\r\\n', 'Content-Type: ', mimeType, '\\r\\n\\r\\n', content);\n\t      return this;\n\t    }\n\t  }, {\n\t    key: 'finish',\n\t    value: function finish() {\n\t      if (this.parts.length === 0) {\n\t        throw new Error('No parts have been added.');\n\t      }\n\t      if (this.body === null) {\n\t        this.parts.push('\\r\\n--', this.boundary, '--');\n\t        this.body = this.parts.join('');\n\t      }\n\t      return {\n\t        type: this.mimeType,\n\t        body: this.body\n\t      };\n\t    }\n\t  }]);\n\t  return _class;\n\t}();\n\n\texports.default = _class;\n\n/***/ },\n/* 45 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(42);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _vuex = __webpack_require__(110);\n\t\n\tvar _vuex2 = _interopRequireDefault(_vuex);\n\t\n\tvar _xgzfile = __webpack_require__(25);\n\t\n\tvar _xgzfile2 = _interopRequireDefault(_xgzfile);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_vuex2.default);\n\tconsole.log('USED VUEEEEEEEEEXXXX');\n\t\n\t_vue2.default.config.debug = true;\n\tvar debug = (\"production\") !== 'production';\n\t\n\texports.default = new _vuex2.default.Store({\n\t  modules: {\n\t    xgzfile: _xgzfile2.default\n\t  },\n\t  strict: debug\n\t});\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _querystringify = __webpack_require__(97);\n\t\n\tvar _querystringify2 = _interopRequireDefault(_querystringify);\n\t\n\tvar _actions = __webpack_require__(10);\n\t\n\tvar _PageHeader = __webpack_require__(107);\n\t\n\tvar _PageHeader2 = _interopRequireDefault(_PageHeader);\n\t\n\tvar _CreateNewXgzDialog = __webpack_require__(105);\n\t\n\tvar _CreateNewXgzDialog2 = _interopRequireDefault(_CreateNewXgzDialog);\n\t\n\tvar _TextView = __webpack_require__(106);\n\t\n\tvar _TextView2 = _interopRequireDefault(_TextView);\n\t\n\tvar _gapiIntegration = __webpack_require__(9);\n\t\n\tvar _gapiIntegration2 = _interopRequireDefault(_gapiIntegration);\n\t\n\tvar _User = __webpack_require__(24);\n\t\n\tvar _User2 = _interopRequireDefault(_User);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  components: {\n\t    PageHeader: _PageHeader2.default,\n\t    TextView: _TextView2.default,\n\t    'create-new-xgz-dialog': _CreateNewXgzDialog2.default\n\t  },\n\t  data: function data() {\n\t    return {\n\t      user: null,\n\t      file: null\n\t    };\n\t  },\n\t  vuex: {\n\t    actions: {\n\t      loadFile: _actions.loadFile\n\t    }\n\t  },\n\t  attached: function attached() {\n\t    var _this = this;\n\t\n\t    console.log(_gapiIntegration2.default);\n\t    var queryVars = _querystringify2.default.parse(window.location.search);\n\t    console.log(queryVars);\n\t    this.user = queryVars.user;\n\t    this.file = queryVars.file;\n\t\n\t    _gapiIntegration2.default.loadDriveApis().then(function () {\n\t      console.log('starting authorize');\n\t      _gapiIntegration2.default.authorize(true, _this.user).then(function () {\n\t        _this.loadUserData();\n\t        _this.loadThisFile();\n\t      }).catch(function (reason) {\n\t        console.log('error inload or authorize');\n\t        _this.$refs.login.open();\n\t      });\n\t    });\n\t  },\n\t  methods: {\n\t    handleAuthClick: function handleAuthClick() {\n\t      var _this2 = this;\n\t\n\t      this.$refs.login.close();\n\t      _gapiIntegration2.default.authorize(false, this.user).then(function () {\n\t        _this2.loadUserData();\n\t        _this2.loadThisFile();\n\t      });\n\t    },\n\t    loadUserData: function loadUserData() {\n\t      console.log('load userData');\n\t      _gapiIntegration2.default.getUserProfile().then(function (resp) {\n\t        console.log(resp);\n\t        _User2.default.setUser({\n\t          name: resp.result.displayName,\n\t          image: resp.result.image.url,\n\t          email: resp.result.emails[0].value\n\t        });\n\t      });\n\t    },\n\t    loadThisFile: function loadThisFile() {\n\t      var _this3 = this;\n\t\n\t      console.log('load file');\n\t\n\t      if (this.file) {\n\t        _gapiIntegration2.default.loadFile(this.file).then(function (file) {\n\t          console.log('GOT FILE!!!!!!');\n\t          _this3.loadFile(file);\n\t        });\n\t      } else {\n\t        this.openCreateNewXGZ();\n\t      }\n\t    },\n\t    openCreateNewXGZ: function openCreateNewXGZ() {\n\t      this.$refs.create_new.openDialog();\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _actions = __webpack_require__(10);\n\t\n\tvar _googleDrive = __webpack_require__(98);\n\t\n\tvar _googleDrive2 = _interopRequireDefault(_googleDrive);\n\t\n\tvar _gapiIntegration = __webpack_require__(9);\n\t\n\tvar _gapiIntegration2 = _interopRequireDefault(_gapiIntegration);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  data: function data() {\n\t    return {\n\t      filename: 'New XGZ document',\n\t      gdriveSvg: _googleDrive2.default\n\t    };\n\t  },\n\t\n\t  vuex: {\n\t    actions: {\n\t      createNewXGZ: _actions.createNewXGZ,\n\t      loadFile: _actions.loadFile\n\t    }\n\t  },\n\t  methods: {\n\t    openDialog: function openDialog() {\n\t      this.filename = 'New XGZ document';\n\t      this.$refs.create_new_xgz.open();\n\t    },\n\t    createNew: function createNew() {\n\t      this.$refs.create_new_xgz.close();\n\t      this.createNewXGZ(this.filename);\n\t    },\n\t    openFromGDrive: function openFromGDrive() {\n\t      var _this = this;\n\t\n\t      this.$refs.create_new_xgz.close();\n\t      _gapiIntegration2.default.showPicker().then(function (id) {\n\t        console.log('open file:' + id);\n\t        if (id !== _this.fileId) {\n\t          _gapiIntegration2.default.loadFile(id).then(function (file) {\n\t            console.log('GOT FILE!!!!!!');\n\t            _this.loadFile(file);\n\t          });\n\t        }\n\t      });\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 48 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _actions = __webpack_require__(10);\n\t\n\texports.default = {\n\t  vuex: {\n\t    getters: {\n\t      fileContent: function fileContent(state) {\n\t        return state.xgzfile.content;\n\t      }\n\t    },\n\t    actions: {\n\t      editContent: _actions.editContent\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 49 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _lodash = __webpack_require__(23);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _autosizeInput = __webpack_require__(43);\n\t\n\tvar _autosizeInput2 = _interopRequireDefault(_autosizeInput);\n\t\n\tvar _ProfileMenu = __webpack_require__(108);\n\t\n\tvar _ProfileMenu2 = _interopRequireDefault(_ProfileMenu);\n\t\n\tvar _actions = __webpack_require__(10);\n\t\n\tvar _xgzfile = __webpack_require__(25);\n\t\n\tvar _gapiIntegration = __webpack_require__(9);\n\t\n\tvar _gapiIntegration2 = _interopRequireDefault(_gapiIntegration);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  components: {\n\t    ProfileMenu: _ProfileMenu2.default\n\t  },\n\t  data: function data() {\n\t    return {};\n\t  },\n\t\n\t  watch: {\n\t    'fileName': function fileName(val, oldVal) {\n\t      if (typeof this !== 'undefined') {\n\t        this.$els.filename.dispatchEvent(new Event('input'));\n\t      }\n\t    }\n\t  },\n\t  vuex: {\n\t    getters: {\n\t      fileStatus: function fileStatus(state) {\n\t        console.log(state.xgzfile.status);\n\t        console.log(_xgzfile.STATUS_LIST.SAVED);\n\t\n\t        switch (state.xgzfile.status) {\n\t          case _xgzfile.STATUS_LIST.INTIAL:\n\t            return 'New file';\n\t          case _xgzfile.STATUS_LIST.SAVING:\n\t            return 'Saving...';\n\t          case _xgzfile.STATUS_LIST.SAVED:\n\t            return 'Last change on ' + state.xgzfile.metadata.modifiedTime;\n\t          case _xgzfile.STATUS_LIST.NOT_SAVED:\n\t            return 'Could not save to drive';\n\t          case _xgzfile.STATUS_LIST.DIRTY:\n\t            return 'Not saved';\n\t        }\n\t      },\n\t      fileName: function fileName(state) {\n\t        return state.xgzfile.metadata.name;\n\t      },\n\t      fileId: function fileId(state) {\n\t        return state.xgzfile.metadata.id;\n\t      }\n\t    },\n\t    actions: {\n\t      renameFile: _actions.renameFile,\n\t      loadFile: _actions.loadFile\n\t    }\n\t  },\n\t  methods: {\n\t    rename: function rename(e) {\n\t      this.renameFile(e.target.value);\n\t    },\n\t    openCreateNewXGZ: function openCreateNewXGZ() {\n\t      window.open('/', '_blank');\n\t      this.closeNav();\n\t    },\n\t    closeNav: function closeNav() {\n\t      setTimeout(function () {\n\t        var d = document.querySelector('.mdl-layout');\n\t        if (_lodash2.default.findIndex(d.classList, 'is-visible')) d.MaterialLayout.toggleDrawer();\n\t      }, 100);\n\t    },\n\t    openFile: function openFile() {\n\t      var _this = this;\n\t\n\t      _gapiIntegration2.default.showPicker().then(function (id) {\n\t        console.log('open file:' + id);\n\t        if (id !== _this.fileId) {\n\t          _gapiIntegration2.default.loadFile(id).then(function (file) {\n\t            console.log('GOT FILE!!!!!!');\n\t            _this.loadFile(file);\n\t          });\n\t        }\n\t      });\n\t      this.closeNav();\n\t    }\n\t  },\n\t\n\t  ready: function ready() {\n\t    (0, _autosizeInput2.default)(this.$els.filename);\n\t  }\n\t};\n\n/***/ },\n/* 50 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _User = __webpack_require__(24);\n\t\n\tvar _User2 = _interopRequireDefault(_User);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  data: function data() {\n\t    return {\n\t      user: _User2.default.state\n\t    };\n\t  }\n\t};\n\n/***/ },\n/* 51 */,\n/* 52 */,\n/* 53 */,\n/* 54 */,\n/* 55 */,\n/* 56 */,\n/* 57 */,\n/* 58 */,\n/* 59 */,\n/* 60 */,\n/* 61 */,\n/* 62 */,\n/* 63 */,\n/* 64 */,\n/* 65 */,\n/* 66 */,\n/* 67 */,\n/* 68 */,\n/* 69 */,\n/* 70 */,\n/* 71 */,\n/* 72 */,\n/* 73 */,\n/* 74 */,\n/* 75 */,\n/* 76 */,\n/* 77 */,\n/* 78 */,\n/* 79 */,\n/* 80 */,\n/* 81 */,\n/* 82 */,\n/* 83 */,\n/* 84 */,\n/* 85 */,\n/* 86 */,\n/* 87 */,\n/* 88 */,\n/* 89 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 90 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 91 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 92 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 93 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 94 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 95 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 96 */,\n/* 97 */,\n/* 98 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZlcnNpb249IjEuMSIgIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgPHBhdGggZmlsbD0iIzAwMDAwMCIgZD0iTTcuNzEsMy41TDEuMTUsMTVMNC41OCwyMUwxMS4xMyw5LjVNOS43MywxNUw2LjMsMjFIMTkuNDJMMjIuODUsMTVNMjIuMjgsMTRMMTUuNDIsMkg4LjU4TDguNTcsMkwxNS40MywxNEgyMi4yOFoiIC8+Cjwvc3ZnPg==\"\n\n/***/ },\n/* 99 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div class=\\\"mdl-layout mdl-js-layout mdl-layout--fixed-header\\\"> <page-header></page-header> <main class=\\\"mdl-layout__content mdl-color--grey-100\\\"> <div class=page-content> <div class=mdl-grid> <div class=\\\"mdl-cell mdl-cell--2-col\\\" id=left-tools> </div> <div class=\\\"mdl-cell mdl-cell--8-col\\\" id=text-view> <text-view></text-view> </div> <div class=\\\"mdl-cell mdl-cell--2-col\\\" id=right-tools> </div> </div> <mdl-dialog v-ref:login full-width title=\\\"Hi there\\\"> <p>Please log in with your Google Drive account</p> <template slot=actions> <mdl-button primary @click=handleAuthClick>Login</mdl-button> </template> </mdl-dialog> <pre id=output></pre> </div> </main> <create-new-xgz-dialog v-ref:create_new></create-new-xgz-dialog> </div> \";\n\n/***/ },\n/* 100 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <header class=\\\"mdl-layout__header mdl-color--grey-100 mdl-color-text--grey-600\\\"> <div class=mdl-layout__header-row> <i class=material-icons>short_text</i> <input class=filename contenteditable=true @blur=rename :value=fileName v-el:filename/> <span class=filestatus>{{ fileStatus }}</span> <div class=mdl-layout-spacer></div> <nav class=\\\"mdl-navigation mdl-layout--large-screen-only\\\"> <profile-menu></profile-menu> </nav> </div> </header> <div class=mdl-layout__drawer> <span class=mdl-layout-title> </span> <nav class=mdl-navigation> <profile-menu></profile-menu> <a class=mdl-navigation__link @click=openCreateNewXGZ>New</a> <a class=mdl-navigation__link @click=openFile>Open</a> </nav> </div> \";\n\n/***/ },\n/* 101 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <mdl-dialog v-ref:create_new_xgz=\\\"\\\" full-width=\\\"\\\" title=\\\"Create new XGZ\\\" _v-09d6ba0a=\\\"\\\"> <mdl-textfield floating-label=\\\"File name\\\" :value.sync=filename _v-09d6ba0a=\\\"\\\"></mdl-textfield> <template slot=actions> <mdl-button primary=\\\"\\\" @click=createNew() _v-09d6ba0a=\\\"\\\">Create</mdl-button> <mdl-button @click=openFromGDrive() _v-09d6ba0a=\\\"\\\">... or open from Google Drive <img src={{gdriveSvg}} _v-09d6ba0a=\\\"\\\"></mdl-button> </template> </mdl-dialog> \";\n\n/***/ },\n/* 102 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div class=demo-avatar-dropdown _v-49020613=\\\"\\\"> <img class=avatar v-bind:src=user.image _v-49020613=\\\"\\\"> <span _v-49020613=\\\"\\\">{{ user.email }}</span> <button id=accbtn class=\\\"mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon\\\" _v-49020613=\\\"\\\"> <i class=material-icons role=presentation _v-49020613=\\\"\\\">arrow_drop_down</i> <span class=visuallyhidden _v-49020613=\\\"\\\">Accounts</span> </button> <ul class=\\\"mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect\\\" for=accbtn _v-49020613=\\\"\\\"> <li class=mdl-menu__item _v-49020613=\\\"\\\">logout</li> </ul> </div> \";\n\n/***/ },\n/* 103 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <textarea :value=fileContent @input=editContent _v-c3206866=\\\"\\\"></textarea> \";\n\n/***/ },\n/* 104 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(90)\n\t__vue_script__ = __webpack_require__(46)\n\t__vue_template__ = __webpack_require__(99)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 105 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(92)\n\t__vue_script__ = __webpack_require__(47)\n\t__vue_template__ = __webpack_require__(101)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 106 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(94)\n\t__vue_script__ = __webpack_require__(48)\n\t__vue_template__ = __webpack_require__(103)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 107 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(91)\n\t__vue_script__ = __webpack_require__(49)\n\t__vue_template__ = __webpack_require__(100)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 108 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(93)\n\t__vue_script__ = __webpack_require__(50)\n\t__vue_template__ = __webpack_require__(102)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ }\n]);\n\n\n/** WEBPACK FOOTER **\n ** static/js/app.f9ac096d7ff9f3d72c41.js\n **/","import Vue from 'vue'\nimport App from './App'\nimport VueMdl from 'vue-mdl'\n\nimport store from './vuex/store'\n\n// import mdl stuff\nimport 'material-design-lite'\nimport 'material-design-lite/material.min.css'\nimport 'assets/material.cyan-amber.min.css'\n// import 'mdi/css/materialdesignicons.css'\n\nVue.use(VueMdl)\n\n/* eslint-disable no-new */\nnew Vue({\n  store,\n  el: 'body',\n  components: {\n    App\n  },\n  data: {\n  }\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","import MultiPartBuilder from './multipart'\n\nclass GApiIntegration {\n\n/* global gapi, google */\n\n  constructor () {\n    console.log('CONSTRUCTING GApi!!!!')\n\n    this.CLIENT_ID = process.env.CLIENT_ID\n    this.SCOPES = ['email', 'profile', 'https://www.googleapis.com/auth/drive',\n      'https://www.googleapis.com/auth/drive.install',\n      'https://www.googleapis.com/auth/plus.login']\n\n    this.DEFAULT_FIELDS = 'capabilities(canCopy,canEdit),createdTime,fileExtension,id,mimeType,modifiedTime,name,shared,size,version'\n  }\n\n  loadDriveApis () {\n    return new Promise(\n      (resolve, reject) => {\n        (function waitForApi () {\n          console.log('loadDriveApi...')\n          if (gapi && gapi.client) {\n            Promise.all([\n              gapi.client.load('drive', 'v3'),\n              gapi.client.load('plus', 'v1'),\n              gapi.load('picker')])\n              .then(() => {\n                console.log('gapi.client.load finished!!')\n                resolve()\n              })\n          } else {\n            setTimeout(() => waitForApi(), 10)\n            console.log('wait for it...')\n          }\n        })()\n      }\n    )\n  }\n\n  /**\n   * Makes the gapi authorization process\n   */\n  authorize (immediate = true, user = null) {\n    console.log('authorize')\n    return new Promise(\n      (resolve, reject) => {\n        gapi.auth.authorize(\n          this.buildAuthRequest(immediate, user),\n          (authResult) => {\n            if (authResult && !authResult.error) {\n              console.log('resolved!')\n              resolve()\n            } else {\n              console.log('rejected!')\n              reject()\n            }\n          }\n        )\n      }\n    )\n  }\n\n  /**\n   * Builds a request object suitable for gapi.auth.authorize calls.\n   *\n   * @param {Boolean} immediateMode True if auth should be checked silently\n   * @param {String} user Optional login hint indiciating which account should be authorized\n   * @return {Promise} promise that resolves on completion of the login\n   */\n  buildAuthRequest (immediateMode, user) {\n    var request = {\n      client_id: this.CLIENT_ID,\n      scope: this.SCOPES.join(' '),\n      immediate: immediateMode\n    }\n    if (user) {\n      request.login_hint = user\n      request.authuser = -1\n    }\n    return request\n  }\n\n  getUserProfile () {\n    return gapi.client.plus.people.get({\n      'userId': 'me'\n    })\n  }\n\n  saveXgzFile (xgzFile, filename) {\n    var path\n    var method\n\n    if (xgzFile.metadata.id) {\n      path = '/upload/drive/v3/files/' + encodeURIComponent(xgzFile.metadata.id)\n      method = 'PATCH'\n    } else {\n      path = '/upload/drive/v3/files'\n      method = 'POST'\n    }\n\n    const metadata = { mimeType: xgzFile.metadata.mimeType, name: (filename || xgzFile.metadata.name) }\n\n    const multipart = new MultiPartBuilder()\n        .append('application/json', JSON.stringify(metadata))\n        .append(xgzFile.metadata.mimeType, xgzFile.content)\n        .finish()\n\n    return gapi.client.request({\n      path: path,\n      method: method,\n      params: {\n        uploadType: 'multipart',\n        fields: this.DEFAULT_FIELDS\n      },\n      headers: { 'Content-Type': multipart.type },\n      body: multipart.body\n    })\n  }\n\n  /**\n   * Combines metadata & content into a single object & caches the result\n   *\n   * @param {Object} metadata File metadata\n   * @param {String} content File content\n   * @return {Object} combined object\n   */\n  combineAndStoreResults (metadata, content) {\n    var file = {\n      metadata: metadata,\n      content: content\n    }\n    return file\n  };\n\n  /**\n   * Load a file from Drive. Fetches both the metadata & content in parallel.\n   *\n   * @param {String} fileID ID of the file to load\n   * @return {Promise} promise that resolves to an object containing the file metadata & content\n   */\n  loadFile (fileId) {\n    return new Promise(\n      (resolve, reject) => {\n        var metadataRequest = gapi.client.drive.files.get({\n          fileId: fileId,\n          fields: this.DEFAULT_FIELDS\n        })\n        var contentRequest = gapi.client.drive.files.get({\n          fileId: fileId,\n          alt: 'media'\n        })\n\n        resolve(Promise.all([metadataRequest, contentRequest]))\n      }).then(function (responses) {\n        return {metadata: responses[0].result, content: responses[1].body}\n      })\n  };\n\n  /**\n   * Displays the Drive file picker configured for selecting text files\n   *\n   * @return {Promise} Promise that resolves with the ID of the selected file\n   */\n  showPicker () {\n    return new Promise(\n      (resolve, reject) => {\n        var view = new google.picker.DocsView(google.picker.ViewId.DOCS)\n        view.setMimeTypes('application/file-xgz')\n        view.setSelectFolderEnabled(true)\n        view.setIncludeFolders(true)\n        var picker = new google.picker.PickerBuilder()\n          .setAppId(process.env.APPLICATION_ID)\n          .setOAuthToken(gapi.auth.getToken().access_token)\n          .addView(view)\n          .setCallback(function (data) {\n            if (data.action === 'picked') {\n              var id = data.docs[0].id\n              resolve(id)\n            } else if (data.action === 'cancel') {\n              reject()\n            }\n          })\n          .build()\n        picker.setVisible(true)\n      })\n  };\n}\n\nexport default new GApiIntegration()\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/gapi/gapi-integration.js\n **/","import GapiIntegration from '../gapi/gapi-integration'\nimport * as types from './mutation-types'\nimport _ from 'lodash'\n\nexport const createNewXGZ = ({dispatch, state}, filename) => {\n  console.log('Creating new XGZ')\n\n  dispatch(types.NEW_FILE)\n\n  GapiIntegration.saveXgzFile(state.xgzfile, filename)\n    .then(\n      (result) => dispatch(types.FILE_SAVED, result.result),\n      (reason) => dispatch(types.FILE_NOT_SAVED))\n}\n\nexport const saveXGZ = ({dispatch, state}) => {\n  console.log('Saving new XGZ')\n  dispatch(types.FILE_SAVING)\n\n  return new Promise((resolve, reject) => {\n    GapiIntegration.saveXgzFile(state.xgzfile)\n    .then(\n      (result) => {\n        dispatch(types.FILE_SAVED, result.result)\n        resolve()\n      },\n      (reason) => {\n        dispatch(types.FILE_NOT_SAVED)\n        reject(reason)\n      }\n    )\n  })\n}\n\nlet debounceSave = _.debounce(saveXGZ, 5000)\n\nexport const editContent = ({dispatch, state}, e) => {\n  console.log('Editing XGZ content: ' + e.target.value)\n  dispatch(types.EDIT_CONTENT, e.target.value)\n\n  // save file / sync with google realtime api\n  debounceSave({dispatch, state})\n}\n\nexport const renameFile = ({dispatch, state}, filename) => {\n  console.log('renaming XGZ')\n  dispatch(types.RENAME_FILE, filename)\n\n  // save file / sync with google realtime api\n  debounceSave({dispatch, state})\n}\n\nexport const loadFile = ({dispatch}, file) => {\n  dispatch(types.LOAD_FILE, file)\n  window.history.pushState(this, '', '?file=' + file.metadata.id)\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vuex/actions.js\n **/","export default {\n  state: {\n    name: '',\n    image: '',\n    email: ''\n  },\n\n  setUser: function (user) {\n    this.state.name = user.name\n    this.state.image = user.image\n    this.state.email = user.email\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/stores/User.js\n **/","import _ from 'lodash'\nimport {\n  NEW_FILE,\n  FILE_SAVED,\n  FILE_SAVING,\n  FILE_NOT_SAVED,\n  EDIT_CONTENT,\n  RENAME_FILE,\n  LOAD_FILE\n} from '../mutation-types'\n\nexport const STATUS_LIST = {\n  INITIAL: 'INTIAL',\n  SAVING: 'SAVING',\n  SAVED: 'SAVED',\n  NOT_SAVED: 'NOT_SAVED',\n  DIRTY: 'DIRTY'\n}\n\nconst state = {\n  metadata: {\n    name: 'New XGZ document'\n  },\n  content: '',\n  status: STATUS_LIST.INITIAL\n}\n\nconst mutations = {\n  [NEW_FILE] (state, name) {\n    state.metadata = {\n      id: null,\n      mimeType: 'application/file-xgz',\n      name: name\n    }\n    state.content = ''\n  },\n\n  [FILE_SAVED] (state, metadata) {\n    _.assign(state.metadata, metadata)\n    state.status = STATUS_LIST.SAVED\n  },\n\n  [FILE_NOT_SAVED] (state) {\n    state.status = STATUS_LIST.NOT_SAVED\n  },\n\n  [FILE_SAVING] (state) {\n    state.status = STATUS_LIST.SAVING\n  },\n\n  [EDIT_CONTENT] (state, content) {\n    state.content = content\n    state.status = STATUS_LIST.DIRTY\n  },\n\n  [RENAME_FILE] (state, filename) {\n    state.metadata.name = filename\n    state.status = STATUS_LIST.DIRTY\n  },\n\n  [LOAD_FILE] (state, file) {\n    state.metadata = file.metadata\n    state.content = file.content\n    state.status = state.status = STATUS_LIST.SAVED\n  }\n}\n\nexport default {\n  state,\n  mutations\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vuex/modules/xgzfile.js\n **/","// files mutations\nexport const NEW_FILE = 'NEW_FILE'\nexport const FILE_SAVED = 'FILE_SAVED'\nexport const FILE_SAVING = 'FILE_SAVING'\nexport const FILE_NOT_SAVED = 'FILE_NOT_SAVED'\n\nexport const EDIT_CONTENT = 'EDIT_CONTENT'\nexport const RENAME_FILE = 'RENAME_FILE'\nexport const LOAD_FILE = 'LOAD_FILE'\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vuex/mutation-types.js\n **/","/**\n * Helper for building multipart requests for uploading to Drive.\n */\nexport default class {\n\n  constructor () {\n    this.boundary = Math.random().toString(36).slice(2)\n    this.mimeType = 'multipart/mixed; boundary=\"' + this.boundary + '\"'\n    this.parts = []\n    this.body = null\n  }\n\n  /**\n   * Appends a part.\n   *\n   * @param {String} mimeType Content type of this part\n   * @param {Blob|File|String} content Body of this part\n   */\n  append (mimeType, content) {\n    if (this.body !== null) {\n      throw new Error('Builder has already been finalized.')\n    }\n    this.parts.push(\n      '\\r\\n--', this.boundary, '\\r\\n',\n      'Content-Type: ', mimeType, '\\r\\n\\r\\n',\n      content)\n    return this\n  }\n\n  /**\n   * Finalizes building of the multipart request and returns a Blob containing\n   * the request. Once finalized, appending additional parts will result in an\n   * error.\n   *\n   * @returns {Object} Object containing the mime type (mimeType) & assembled multipart body (body)\n   */\n  finish () {\n    if (this.parts.length === 0) {\n      throw new Error('No parts have been added.')\n    }\n    if (this.body === null) {\n      this.parts.push('\\r\\n--', this.boundary, '--')\n      this.body = this.parts.join('')\n      // TODO - switch to blob once gapi.client.request allows it\n      // this.body = new Blob(this.parts, {type: this.mimeType});\n    }\n    return {\n      type: this.mimeType,\n      body: this.body\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/gapi/multipart.js\n **/","// vuex/store.js\nimport Vue from 'vue'\nimport Vuex from 'vuex'\n// import xgzfile from modules\nimport xgzfile from './modules/xgzfile'\n\nVue.use(Vuex)\nconsole.log('USED VUEEEEEEEEEXXXX')\n\nVue.config.debug = true\nconst debug = process.env.NODE_ENV !== 'production'\n\nexport default new Vuex.Store({\n  // combine sub modules\n  modules: {\n    xgzfile\n  },\n  strict: debug\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vuex/store.js\n **/","\n<template>\n  <div class=\"mdl-layout mdl-js-layout mdl-layout--fixed-header\">\n    <page-header></page-header>\n    <main class=\"mdl-layout__content mdl-color--grey-100\">\n      <div class=\"page-content\">\n\n        <div class=\"mdl-grid\">\n          <div class=\"mdl-cell mdl-cell--2-col\" id=\"left-tools\">\n          </div>\n          <div class=\"mdl-cell mdl-cell--8-col\" id=\"text-view\">\n            <text-view></text-view>\n          </div>\n          <div class=\"mdl-cell mdl-cell--2-col\" id=\"right-tools\">\n          </div>          \n        </div>\n\n        <mdl-dialog v-ref:login full-width title=\"Hi there\">\n          <p>Please log in with your Google Drive account</p>\n          <template slot=\"actions\">\n            <mdl-button primary @click=\"handleAuthClick\">Login</mdl-button>\n          </template>\n        </mdl-dialog>\n        <pre id=\"output\"></pre>\n      </div>\n    </main>\n    <create-new-xgz-dialog v-ref:create_new></create-new-xgz-dialog>\n  </div>\n</template>\n\n<script>\nimport qs from 'querystringify'\nimport { loadFile } from './vuex/actions'\nimport PageHeader from './components/menu/PageHeader'\nimport CreateNewXgzDialog from './components/CreateNewXgzDialog'\nimport TextView from './components/TextView'\nimport GapiIntegration from './gapi/gapi-integration'\nimport user from './stores/User'\n\nexport default {\n  components: {\n    PageHeader,\n    TextView,\n    'create-new-xgz-dialog': CreateNewXgzDialog\n  },\n  data: function () {\n    return {\n      user: null,\n      file: null\n    }\n  },\n  vuex: {\n    actions: {\n      loadFile\n    }\n  },\n  attached: function () {\n    console.log(GapiIntegration)\n    let queryVars = qs.parse(window.location.search)\n    console.log(queryVars)\n    this.user = queryVars.user\n    this.file = queryVars.file\n\n    GapiIntegration.loadDriveApis()\n      .then(() => {\n        console.log('starting authorize')\n        GapiIntegration.authorize(true, this.user)\n          .then(() => {\n            this.loadUserData()\n            this.loadThisFile()\n          })\n          .catch((reason) => {\n            console.log('error inload or authorize')\n            this.$refs.login.open()\n          })\n      })\n  },\n  methods: {\n    handleAuthClick () {\n      this.$refs.login.close()\n      GapiIntegration.authorize(false, this.user)\n        .then(() => {\n          this.loadUserData()\n          this.loadThisFile()\n        })\n    },\n\n    loadUserData () {\n      console.log('load userData')\n      GapiIntegration.getUserProfile().then((resp) => {\n        console.log(resp)\n        user.setUser({\n          name: resp.result.displayName,\n          image: resp.result.image.url,\n          email: resp.result.emails[0].value\n        })\n      })\n    },\n\n    loadThisFile () {\n      console.log('load file')\n\n      // if no file id in URL, open create dialog\n      if (this.file) {\n        GapiIntegration.loadFile(this.file)\n          .then(file => {\n            console.log('GOT FILE!!!!!!')\n            this.loadFile(file)\n          })\n      } else {\n        this.openCreateNewXGZ()\n      }\n    },\n\n    openCreateNewXGZ () {\n      this.$refs.create_new.openDialog()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n\n\n</style>\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** App.vue?67af9518\n **/","<template>\n    <mdl-dialog v-ref:create_new_xgz full-width title=\"Create new XGZ\">\n    <mdl-textfield floating-label=\"File name\" :value.sync=\"filename\"></mdl-textfield>\n    <template slot=\"actions\">\n      <mdl-button primary @click=\"createNew()\">Create</mdl-button>\n      <mdl-button @click=\"openFromGDrive()\">... or open from Google Drive <img src={{gdriveSvg}} /></mdl-button>\n    </template>\n  </mdl-dialog>\n</template>\n\n<script>\nimport { createNewXGZ, loadFile } from '../vuex/actions'\nimport gdriveSvg from '../assets/google-drive.svg'\nimport GapiIntegration from '../gapi/gapi-integration'\n\nexport default {\n  data () {\n    return {\n      filename: 'New XGZ document',\n      gdriveSvg\n    }\n  },\n  vuex: {\n    actions: {\n      createNewXGZ,\n      loadFile\n    }\n  },\n  methods: {\n    openDialog () {\n      this.filename = 'New XGZ document'\n      this.$refs.create_new_xgz.open()\n    },\n    createNew () {\n      this.$refs.create_new_xgz.close()\n      this.createNewXGZ(this.filename)\n    },\n    openFromGDrive () {\n      this.$refs.create_new_xgz.close()\n      GapiIntegration.showPicker()\n        .then((id) => {\n          console.log('open file:' + id)\n          if (id !== this.fileId) {\n            GapiIntegration.loadFile(id)\n            .then(file => {\n              console.log('GOT FILE!!!!!!')\n              this.loadFile(file)\n            })\n          }\n        })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  \n</style>\n\n\n/** WEBPACK FOOTER **\n ** CreateNewXgzDialog.vue?4a96d096\n **/","<template>\n  <textarea :value=\"fileContent\" @input=\"editContent\"></textarea>\n</template>\n\n<script>\nimport { editContent } from '../vuex/actions'\nexport default {\n  vuex: {\n    getters: {\n      fileContent: state => state.xgzfile.content\n    },\n    actions: {\n      editContent\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\ntextarea {\n  background: white;\n  width: 100%;\n  min-height: 500px;\n}\n</style>\n\n\n/** WEBPACK FOOTER **\n ** TextView.vue?93cf95be\n **/","<template>\n  <header class=\"mdl-layout__header mdl-color--grey-100 mdl-color-text--grey-600\">\n    <div class=\"mdl-layout__header-row\">\n      <!-- Title -->\n      <i class=\"material-icons\">short_text</i>\n      <input class='filename' contenteditable=\"true\" @blur='rename' :value='fileName' v-el:filename/>\n      <span class=\"filestatus\">{{ fileStatus }}</span>\n      <!-- Add spacer, to align navigation to the right -->\n      <div class=\"mdl-layout-spacer\"></div>\n      <!-- Navigation. We hide it in small screens. -->\n      <nav class=\"mdl-navigation mdl-layout--large-screen-only\">\n        <profile-menu></profile-menu>\n      </nav>\n    </div>\n  </header>\n  <div class=\"mdl-layout__drawer\">\n\n    <span class=\"mdl-layout-title\">\n      \n    </span>\n    <nav class=\"mdl-navigation\">\n      <profile-menu></profile-menu>\n      <a class=\"mdl-navigation__link\" @click=\"openCreateNewXGZ\">New</a>\n      <a class=\"mdl-navigation__link\" @click=\"openFile\">Open</a>\n    </nav>\n  </div>\n</template>\n\n<script>\n/* global Event */\nimport _ from 'lodash'\nimport autosizeInput from 'autosize-input'\nimport ProfileMenu from './ProfileMenu'\nimport { renameFile, loadFile } from '../../vuex/actions'\nimport { STATUS_LIST } from '../../vuex/modules/xgzfile'\nimport GapiIntegration from '../../gapi/gapi-integration'\n\nexport default {\n  components: {\n    ProfileMenu\n  },\n  data () {\n    return {\n    }\n  },\n  watch: {\n    'fileName': function (val, oldVal) {\n      if (typeof this !== 'undefined') {\n        // trigger the autosize-input\n        this.$els.filename.dispatchEvent(new Event('input'))\n      }\n    }\n  },\n  vuex: {\n    getters: {\n      fileStatus: state => {\n        console.log(state.xgzfile.status)\n        console.log(STATUS_LIST.SAVED)\n\n        switch (state.xgzfile.status) {\n          case STATUS_LIST.INTIAL: return 'New file'\n          case STATUS_LIST.SAVING: return 'Saving...'\n          case STATUS_LIST.SAVED: return 'Last change on ' + state.xgzfile.metadata.modifiedTime\n          case STATUS_LIST.NOT_SAVED: return 'Could not save to drive'\n          case STATUS_LIST.DIRTY: return 'Not saved'\n        }\n      },\n      fileName: state => state.xgzfile.metadata.name,\n      fileId: state => state.xgzfile.metadata.id\n    },\n    actions: {\n      renameFile,\n      loadFile\n    }\n  },\n  methods: {\n    rename (e) {\n      this.renameFile(e.target.value)\n    },\n\n    openCreateNewXGZ () {\n      window.open('/', '_blank')\n      this.closeNav()\n    },\n\n    closeNav () {\n      setTimeout(() => {\n        let d = document.querySelector('.mdl-layout')\n        if (_.findIndex(d.classList, 'is-visible')) d.MaterialLayout.toggleDrawer()\n      }, 100)\n    },\n\n    openFile () {\n      GapiIntegration.showPicker()\n        .then((id) => {\n          console.log('open file:' + id)\n          if (id !== this.fileId) {\n            GapiIntegration.loadFile(id)\n            .then(file => {\n              console.log('GOT FILE!!!!!!')\n              this.loadFile(file)\n            })\n          }\n        })\n      this.closeNav()\n    }\n  },\n\n  ready () {\n    autosizeInput(this.$els.filename)\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '../../styles/globals';\n\n.filename {\n  border: 1px solid transparent;\n  border-radius: 2px!important;\n  font-size: 18px;\n  height: 20px;\n  line-height: 22px;\n  margin: 0;\n  min-width: 1px;\n  padding: 2px 7px;\n  background-color: transparent;\n\n  &:focus {\n    border: 1px solid $secondary-color;\n    outline: $secondary-color auto 5px;\n  }\n  &:hover {\n    border: 1px solid $secondary-color;\n  }\n}\n\n.filestatus {\n  margin-left: 10px;\n  height: 20px;\n  line-height: 22px;\n}\n\n.mdl-layout__drawer-button {\n  color: $secondary-color;\n  background-color: $primary-color;\n}\n\n</style>\n\n\n\n/** WEBPACK FOOTER **\n ** PageHeader.vue?2a99c16d\n **/","<template>\n\n\t<div class=\"demo-avatar-dropdown\">\n    <img class='avatar' v-bind:src=\"user.image\"/>\n  \t<span>{{ user.email }}</span>\n  \t<button id=\"accbtn\" class=\"mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon\">\n  \t  <i class=\"material-icons\" role=\"presentation\">arrow_drop_down</i>\n  \t  <span class=\"visuallyhidden\">Accounts</span>\n  \t</button>\n  \t<ul class=\"mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect\" for=\"accbtn\">\n  \t  <li class=\"mdl-menu__item\">logout</li>\n  \t</ul>\n  </div>\n</template>\n\n<script>\nimport user from '../../stores/User'\n\nexport default {\n  data () {\n    return {\n      user: user.state\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../styles/globals';\n.avatar {\n\twidth: 28px;\n\theight: 28px;\n\tborder-radius: 16px;\n\tborder: 3px solid $secondary-color;\n\tmargin-right: 10px;\n}\n</style>\n\n\n\n\n/** WEBPACK FOOTER **\n ** ProfileMenu.vue?6a12bd05\n **/","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZlcnNpb249IjEuMSIgIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgPHBhdGggZmlsbD0iIzAwMDAwMCIgZD0iTTcuNzEsMy41TDEuMTUsMTVMNC41OCwyMUwxMS4xMyw5LjVNOS43MywxNUw2LjMsMjFIMTkuNDJMMjIuODUsMTVNMjIuMjgsMTRMMTUuNDIsMkg4LjU4TDguNTcsMkwxNS40MywxNEgyMi4yOFoiIC8+Cjwvc3ZnPg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/assets/google-drive.svg\n ** module id = 98\n ** module chunks = 2\n **/","module.exports = \" <div class=\\\"mdl-layout mdl-js-layout mdl-layout--fixed-header\\\"> <page-header></page-header> <main class=\\\"mdl-layout__content mdl-color--grey-100\\\"> <div class=page-content> <div class=mdl-grid> <div class=\\\"mdl-cell mdl-cell--2-col\\\" id=left-tools> </div> <div class=\\\"mdl-cell mdl-cell--8-col\\\" id=text-view> <text-view></text-view> </div> <div class=\\\"mdl-cell mdl-cell--2-col\\\" id=right-tools> </div> </div> <mdl-dialog v-ref:login full-width title=\\\"Hi there\\\"> <p>Please log in with your Google Drive account</p> <template slot=actions> <mdl-button primary @click=handleAuthClick>Login</mdl-button> </template> </mdl-dialog> <pre id=output></pre> </div> </main> <create-new-xgz-dialog v-ref:create_new></create-new-xgz-dialog> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n ** module id = 99\n ** module chunks = 2\n **/","module.exports = \" <header class=\\\"mdl-layout__header mdl-color--grey-100 mdl-color-text--grey-600\\\"> <div class=mdl-layout__header-row> <i class=material-icons>short_text</i> <input class=filename contenteditable=true @blur=rename :value=fileName v-el:filename/> <span class=filestatus>{{ fileStatus }}</span> <div class=mdl-layout-spacer></div> <nav class=\\\"mdl-navigation mdl-layout--large-screen-only\\\"> <profile-menu></profile-menu> </nav> </div> </header> <div class=mdl-layout__drawer> <span class=mdl-layout-title> </span> <nav class=mdl-navigation> <profile-menu></profile-menu> <a class=mdl-navigation__link @click=openCreateNewXGZ>New</a> <a class=mdl-navigation__link @click=openFile>Open</a> </nav> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/menu/PageHeader.vue\n ** module id = 100\n ** module chunks = 2\n **/","module.exports = \" <mdl-dialog v-ref:create_new_xgz=\\\"\\\" full-width=\\\"\\\" title=\\\"Create new XGZ\\\" _v-09d6ba0a=\\\"\\\"> <mdl-textfield floating-label=\\\"File name\\\" :value.sync=filename _v-09d6ba0a=\\\"\\\"></mdl-textfield> <template slot=actions> <mdl-button primary=\\\"\\\" @click=createNew() _v-09d6ba0a=\\\"\\\">Create</mdl-button> <mdl-button @click=openFromGDrive() _v-09d6ba0a=\\\"\\\">... or open from Google Drive <img src={{gdriveSvg}} _v-09d6ba0a=\\\"\\\"></mdl-button> </template> </mdl-dialog> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/template-rewriter.js?id=_v-09d6ba0a!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/CreateNewXgzDialog.vue\n ** module id = 101\n ** module chunks = 2\n **/","module.exports = \" <div class=demo-avatar-dropdown _v-49020613=\\\"\\\"> <img class=avatar v-bind:src=user.image _v-49020613=\\\"\\\"> <span _v-49020613=\\\"\\\">{{ user.email }}</span> <button id=accbtn class=\\\"mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon\\\" _v-49020613=\\\"\\\"> <i class=material-icons role=presentation _v-49020613=\\\"\\\">arrow_drop_down</i> <span class=visuallyhidden _v-49020613=\\\"\\\">Accounts</span> </button> <ul class=\\\"mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect\\\" for=accbtn _v-49020613=\\\"\\\"> <li class=mdl-menu__item _v-49020613=\\\"\\\">logout</li> </ul> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/template-rewriter.js?id=_v-49020613!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/menu/ProfileMenu.vue\n ** module id = 102\n ** module chunks = 2\n **/","module.exports = \" <textarea :value=fileContent @input=editContent _v-c3206866=\\\"\\\"></textarea> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/template-rewriter.js?id=_v-c3206866!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/TextView.vue\n ** module id = 103\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../node_modules/vue-loader/lib/style-rewriter.js!sass-loader?sourceMap!./../node_modules/vue-loader/lib/selector.js?type=style&index=0!./App.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../node_modules/vue-loader/lib/selector.js?type=script&index=0!./App.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../node_modules/vue-loader/lib/selector.js?type=template&index=0!./App.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/App.vue\n ** module id = 104\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-09d6ba0a&scoped=true!sass-loader?sourceMap!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./CreateNewXgzDialog.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./CreateNewXgzDialog.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/template-rewriter.js?id=_v-09d6ba0a!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./CreateNewXgzDialog.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/CreateNewXgzDialog.vue\n ** module id = 105\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-c3206866&scoped=true!sass-loader?sourceMap!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./TextView.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./TextView.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/template-rewriter.js?id=_v-c3206866!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./TextView.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/TextView.vue\n ** module id = 106\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../../node_modules/vue-loader/lib/style-rewriter.js!sass-loader?sourceMap!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./PageHeader.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./PageHeader.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./PageHeader.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/menu/PageHeader.vue\n ** module id = 107\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-49020613&scoped=true!sass-loader?sourceMap!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./ProfileMenu.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./ProfileMenu.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../../node_modules/vue-loader/lib/template-rewriter.js?id=_v-49020613!./../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./ProfileMenu.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/menu/ProfileMenu.vue\n ** module id = 108\n ** module chunks = 2\n **/"],"sourceRoot":""}